<div class="container meishiki">
                          <img src="" alt="" width="1" height="10&quot;">
                        
                        
                          
						  <table width="100%" background-color: rgba( 204, 255, 204, 0.55 )>
                            <tbody><tr>
                              <td><div><font size="5">性別と生年月日を入力して下さい。</font>
<script language="JavaScript1.1">
<!--
    /* 各種テーブル */
    var d_10kan;   /* １０干表示 */
	var d_10uraten /*　１０干裏天干 */
	var d_10urachi /* １０干裏地支 */
	var d_10urazou　/*　１０干裏蔵干 */
	var d_10uratengg /* １０干裏天干五行　*/
	var d_10urachigg /*　１０干裏地支五行　*/
	var d_10urazougg /* １０干裏蔵干五行　*/
    var d_12shi;   /* １２支表示 */
    var d_10shu;   /* １０大主星表示 */
    var d_12jyu;   /* １２大従星表示 */
	var d_12shigg  /*　１２支五行　*/
	var d_10shigg  /*　１０干五行　*/
	var d_12jyuenergy  /*１２大従星エネルギー　*/
	
    /* 各種グローバル変数 */
    var b_y_inp;   /* 入力年 */
    var b_nengo;   /* 年号文字列 */
    var b_y_bias;  /* 年号バイアス */
    var b_y0;      /* 西暦年 */
    var b_m0;      /* 月 */
    var b_d0;      /* 日 */
    var today=new Date();     /* 現在日時 */
    var c_sflg, c_sdte;       /* 節入り */
    var im_py, im_pm, im_pd;  /* 干支番号 */
    var im_ky, im_km, im_kd;  /* 天干  （年干　月干　日干）*/
    var im_sy, im_sm, im_sd;  /* 地支 　（年支　月支　日支）*/
    var im_zy, im_zm, im_zd;  /* 蔵干 */
    var im_tx;                /* 天中殺 */
    var ym_sc, ym_se, ym_sw, ym_sn, ym_ss;  /* 主星 */
    var ym_jy, ym_jm, ym_jd;                /* 従星 */
	var moku,ka,dou,gon,sui   /*木火土金水*/
	

    

	
		
	/* 切り捨て型・整数化 */
    function cint(x) {
        return Math.round(x-0.5);
    }

    /* 特殊mod */
    function cmod(x, y) {
        var t, a;
    
        t=x/y;
        a=Math.round((t-Math.round(t-0.5))*y);
        if (a==0) a=y;
        return a;
    }
    
    /* 日数計算 */
    function cdate(y, m, d) {
        if (m<3) {
            m=m+12;
            y=y-1;
        }
        x=cint(y*365.25)+cint(y/400)-cint(y/100)+cint((m-2)*30.59)+d-21;
        return x;
    }

    /* 月の末日 */
    function calc_maxdte(y, m) {
        var s;
        var x;
        
        if (y%400==0 || (y%100>0 && y%4==0)) {
            s="312931303130313130313031";
        } else {
            s="312831303130313130313031";
        }
        x=parseInt(s.substr((m-1)*2, 2));
        
        return x;
    }
	
	/* Array数値　降順並び替え */
	function sortNumber(a, b)
		{
		return a - b;
		}
   
    /* 干支　　1912年基準年　年干＝壬(9)　年支＝子(1)　*/	
　　　　　　　　　　　　
				function calc_nenkan1912(x) {;       //x=西暦
					var a=0;
				
					a=((x-1912)+9)%10;
					if (a==0) {a=10};
					return a;
				}
				
				function calc_nenshi1912(y) {;      //y=西暦
					var b=0;
				
					b=((y-1912)+1)%12;
					   if (b==0) {b=12};
					return b;
				}

   /* ２８元 */
    function calc_zokan(sno, dte) {
        var s;
        var x;

        switch (sno) {
                    /* 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 20 */
            case  1:s="101010101010101010101010101010101010101010"; break;
            case  2:s="101010101010101010108 8 8 6 6 6 6 6 6 6 6 "; break;
            case  3:s="5 5 5 5 5 5 5 5 3 3 3 3 3 3 3 1 1 1 1 1 1 "; break;
            case  4:s="2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 "; break;
            case  5:s="2 2 2 2 2 2 2 2 2 2 1010105 5 5 5 5 5 5 5 "; break;
            case  6:s="5 5 5 5 5 5 7 7 7 7 7 7 7 7 7 3 3 3 3 3 3 "; break;
            case  7:s="6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 4 "; break;
            case  8:s="4 4 4 4 4 4 4 4 4 4 2 2 2 6 6 6 6 6 6 6 6 "; break;
            case  9:s="5 5 5 5 5 5 5 5 5 5 5 9 9 9 7 7 7 7 7 7 7 "; break;
            case 10:s="8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 "; break;
            case 11:s="8 8 8 8 8 8 8 8 8 8 4 4 4 5 5 5 5 5 5 5 5 "; break;
            case 12:s="1 1 1 1 1 1 1 1 1 1 1 1 1 9 9 9 9 9 9 9 9 "; break;
            default:s="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ";
        }
        if (dte>20) dte=20;
        x=parseInt(s.substr(dte*2, 2));
        return x;
    }

    /* １０大主星 */
    function calc_10shu(n, k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 10 */
            case  1:s="0 1 2 3 4 5 6 7 8 9 10"; break;
            case  2:s="0 2 1 4 3 6 5 8 7 109 "; break;
            case  3:s="0 9 101 2 3 4 5 6 7 8 "; break;
            case  4:s="0 109 2 1 4 3 6 5 8 7 "; break;
            case  5:s="0 7 8 9 101 2 3 4 5 6 "; break;
            case  6:s="0 8 7 109 2 1 4 3 6 5 "; break;
            case  7:s="0 5 6 7 8 9 101 2 3 4 "; break;
            case  8:s="0 6 5 8 7 109 2 1 4 3 "; break;
            case  9:s="0 3 4 5 6 7 8 9 101 2 "; break;
            case 10:s="0 4 3 6 5 8 7 109 2 1 "; break;
            default:s="0 0 0 0 0 0 0 0 0 0 0 ";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    }
	
	
	

    /* １２大従星 */
    function calc_12jyu(n, k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 101112 */		
            case  1:s="9 7 1011128 4 2 5 1 3 6 9 "; break;
            case  2:s="2 4 8 1211107 9 6 3 1 5 2 "; break;
            case  3:s="1 3 6 9 7 1011128 4 2 5 1 "; break;
            case  4:s="3 1 5 2 4 8 1211107 9 6 3 "; break;
            case  5:s="1 3 6 9 7 1011128 4 2 5 1 "; break;
            case  6:s="3 1 5 2 4 8 1211107 9 6 3 "; break;
            case  7:s="4 2 5 1 3 6 9 7 1011128 4 "; break;
            case  8:s="7 9 6 3 1 5 2 4 8 1211107 "; break;
            case  9:s="11128 4 2 5 1 3 6 9 7 1011"; break;
            case 10:s="1211107 9 6 3 1 5 2 4 8 12"; break;
            default:s="0 0 0 0 0 0 0 0 0 0 0 0 0 ";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    }
	
	 /* 合法・散法表 */
    function calc_gousan(n, k) {        //　01半会　02支合　03方三位　04対冲　05刑　06破　07害　08支合・破　09刑・冲　10刑・害　11刑・破　12刑・支合・破　　 　　　　　　　　　　　　　5/10 支合　半会　に化水などを入れる
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 101112  */		
            case  1:s="00000200050100040701060000"; break;
            case  2:s="00020000000601070400010500"; break;
            case  3:s="00000000000010010009000108"; break;
            case  4:s="00050000000700060100040201"; break;
            case  5:s="00010600070500000001020400"; break;
            case  6:s="00000110000000000012010004"; break;
            case  7:s="00040701060000050200000100"; break;
            case  8:s="00070900010000020000001101"; break;
            case  9:s="00010009000112000000000007"; break;
            case 10:s="00060100040201000000050700"; break;
			case 11:s="00000501020400011100070000"; break;
			case 12:s="00000002010004000107000005"; break;
            default:s="00000000000000000000000000";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    }

	
	
	 /* 五行変化表 */
    function calc_gogyo_cng(n, k) {        //　01化木　02化火　03化土　04化金　05化水　06化金・土　07化木・土(半会で子・卯・午・酉を含まない組合せは化けない,支合は化ける)
　　　　	var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 101112  */		
            case  1:s="00000500000500000005000000"; break;
            case  2:s="00050000000000000000040000"; break;
            case  3:s="00000000000000020000000001"; break;
            case  4:s="00000000000000000100000701"; break;
            case  5:s="00050000000000000000060000"; break;
            case  6:s="00000000000000000004040000"; break;
            case  7:s="00000002000000000200000200"; break;
            case  8:s="00000000010000020000000000"; break;
            case  9:s="00050000000004000000000000"; break;
            case 10:s="00000400000604000000000000"; break;
			case 11:s="00000000070000020000000000"; break;
			case 12:s="00000001010000000000000000"; break;
            default:s="00000000000000000000000000";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    };
	
	 /* 半会変化表 */
    function calc_gogyo_hankai(n, k) {        //　01化木　02化火　03化土　04化金　05化水　06化金・土　07化木・土(半会で子・卯・午・酉を含まない組合せは化けない,支合は化ける)
　　　　	var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 101112  */		
            case  1:s="00000000000500000005000000"; break;
            case  2:s="00000000000000000000040000"; break;
            case  3:s="00000000000000020000000000"; break;
            case  4:s="00000000000000000100000001"; break;
            case  5:s="00050000000000000000000000"; break;
            case  6:s="00000000000000000000040000"; break;
            case  7:s="00000002000000000000000200"; break;
            case  8:s="00000000010000000000000000"; break;
            case  9:s="00050000000000000000000000"; break;
            case 10:s="00000400000004000000000000"; break;
			case 11:s="00000000000000020000000000"; break;
			case 12:s="00000000010000000000000000"; break;
            default:s="00000000000000000000000000";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    };
	
	 /* 支合変化表 */
    function calc_gogyo_shigo(n, k) {        //　01化木　02化火　03化土　04化金　05化水　06化金・土　07化木・土(半会で子・卯・午・酉を含まない組合せは化けない,支合は化ける)
　　　　	var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 101112  */		
            case  1:s="00000500000000000000000000"; break;
            case  2:s="00050000000000000000000000"; break;
            case  3:s="00000000000000000000000001"; break;
            case  4:s="00000000000000000000000700"; break;
            case  5:s="00000000000000000000060000"; break;
            case  6:s="00000000000000000004000000"; break;
            case  7:s="00000000000000000200000000"; break;
            case  8:s="00000000000000020000000000"; break;
            case  9:s="00000000000004000000000000"; break;
            case 10:s="00000000000600000000000000"; break;
			case 11:s="00000000070000000000000000"; break;
			case 12:s="00000001000000000000000000"; break;
            default:s="00000000000000000000000000";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    };
		
	
	/* 剋線 算出表*/
    function calc_kokusen(n, k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 10 */
            case  1:s="0 00000101020202020101"; break;
            case  2:s="0 00000101020202020101"; break;
            case  3:s="0 01010000010102020202"; break;
            case  4:s="0 01010000010102020202"; break;
            case  5:s="0 02020101000001010202"; break;
            case  6:s="0 02020101000001010202"; break;
            case  7:s="0 02020202010100000101"; break;
            case  8:s="0 02020202010100000101"; break;
            case  9:s="0 01010202020201010000"; break;
            case 10:s="0 01010202020201010000"; break;
            default:s="0 0 0 0 0 0 0 0 0 0 0 ";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    }
	
	 /* 相生・相剋 算出表*/
    function calc_soukoku(n, k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 5 6 7 8 9 10 */
            case  1:s="0 00000100030004000200"; break;
            case  2:s="0 00000001000300040002"; break;
            case  3:s="0 02000000010003000400"; break;
            case  4:s="0 00020000000100030004"; break;
            case  5:s="0 04000200000001000300"; break;
            case  6:s="0 00040002000000010003"; break;
            case  7:s="0 03000400020000000100"; break;
            case  8:s="0 00030004000200000001"; break;
            case  9:s="0 01000300040002000000"; break;
            case 10:s="0 00010003000400020000"; break;
            default:s="0 0 0 0 0 0 0 0 0 0 0 ";
        }
        x=parseInt(s.substr(k*2, 2));
        return x;
    }
	
	
	/*　四天運と剋線の順位 表*/
    function calc_juni(n, k) {
        var s;
        var x;

        switch (n) {
                    /* 01234 */
            case  1:s="04421"; break;
            case  2:s="03412"; break;
            case  3:s="02143"; break;
            case  4:s="01234"; break;
            case  5:s="04321"; break;
            case  6:s="03412"; break;
            case  7:s="04321"; break;
            case  8:s="03412"; break;
            case  9:s="02143"; break;
            case 10:s="01234"; break;
            default:s="00000";
        }
        x=parseInt(s.substr(k,1));
        return x;
    }

	/*　蔵干表　裏 数理エネルギー計算用　*/
    function calc_ura_zokan(n,k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 */
            case  1:s="00100000"; break;
            case  2:s="00100806"; break;
            case  3:s="00050301"; break;
            case  4:s="00020000"; break;
            case  5:s="00021005"; break;
            case  6:s="00050703"; break;
            case  7:s="00060400"; break;
            case  8:s="00040206"; break;
            case  9:s="00050907"; break;
            case 10:s="00080000"; break;
			case 11:s="00080405"; break;
            case 12:s="00010900"; break;
            default:s="00000000";
        }
        x=parseInt(s.substr(k*2,2));
        return x;
    }
	
	//　数理エネルギー     01:木　02:火　03:土　04:金　05:水
    function calc_suri_gogyo(n,k) {
        var s;
        var x;

        switch (n) {
                    /* 0 1 2 3 4 */
            case  1:s="0105030204"; break;
            case  2:s="0105030204"; break;
            case  3:s="0201040305"; break;
            case  4:s="0201040305"; break;
            case  5:s="0302050401"; break;
            case  6:s="0302050401"; break;
            case  7:s="0403010502"; break;
            case  8:s="0403010502"; break;
            case  9:s="0504020103"; break;
            case 10:s="0504020103"; break;
            default:s="0000000000";
        }
        x=parseInt(s.substr(k*2,2));
        return x;
    }    

	/* 干の五行　*/
	
	function calc_gogyo_kan(k) {
	    var x=0;
		
		if (k==1 || k==2) {                   
		   x=1;
		   }else if (k==3 || k==4){
		   x=2;
		   }else if (k==5 || k==6){
		   x=3;
		   }else if (k==7 || k==8){
		   x=4;
		   }else if (k==9 || k==10){
		   x=5}
		   
		return x;   		   
		};	
	
	
	
	
    /* 節入り日 */
    function calc_setsu(y, m) {
        var s;
        var x;
 
        switch (y) {
            case 1873:s="545566778877"; break;
            case 1874:s="546566788877"; break;
            case 1875:s="646566888987"; break;
            case 1876:s="645455777877"; break;
            case 1877:s="545556777877"; break;
            case 1878:s="546566788877"; break;
            case 1879:s="646566788987"; break;
            case 1880:s="645455777877"; break;
            case 1881:s="545556777877"; break;
            case 1882:s="546566788877"; break;
            case 1883:s="646566788987"; break;
            case 1884:s="645455777877"; break;
            case 1885:s="545556777877"; break;
            case 1886:s="546566788877"; break;
            case 1887:s="646566788987"; break;
            case 1888:s="645455777877"; break;
            case 1889:s="535555777877"; break;
            case 1890:s="546566788877"; break;
            case 1891:s="646566788987"; break;
            case 1892:s="645455777877"; break;
            case 1893:s="535455777877"; break;
            case 1894:s="545556778877"; break;
            case 1895:s="546566788887"; break;
            case 1896:s="645455777876"; break;
            case 1897:s="535455777877"; break;
            case 1898:s="545556778877"; break;
            case 1899:s="546566788877"; break;
            case 1900:s="646566888987"; break;
            case 1901:s="646566888988"; break;
            case 1902:s="656667888988"; break;
            case 1903:s="657677899988"; break;
            case 1904:s="756566788987"; break;
            case 1905:s="646566888988"; break;
            case 1906:s="656667888988"; break;
            case 1907:s="657677899988"; break;
            case 1908:s="756566788987"; break;
            case 1909:s="646566888988"; break;
            case 1910:s="656666888988"; break;
            case 1911:s="657677899988"; break;
            case 1912:s="756566788987"; break;
            case 1913:s="646566888988"; break;
            case 1914:s="656666888988"; break;
            case 1915:s="657677899988"; break;
            case 1916:s="756566788987"; break;
            case 1917:s="646566888988"; break;
            case 1918:s="646566888988"; break;
            case 1919:s="657667889988"; break;
            case 1920:s="656566788887"; break;
            case 1921:s="646566888988"; break;
            case 1922:s="646566888988"; break;
            case 1923:s="656667889988"; break;
            case 1924:s="656566788887"; break;
            case 1925:s="646566888987"; break;
            case 1926:s="646566888988"; break;
            case 1927:s="656667889988"; break;
            case 1928:s="656566788887"; break;
            case 1929:s="646566888987"; break;
            case 1930:s="646566888988"; break;
            case 1931:s="656667889988"; break;
            case 1932:s="656566788877"; break;
            case 1933:s="646566788987"; break;
            case 1934:s="646566888988"; break;
            case 1935:s="656667888988"; break;
            case 1936:s="656566788877"; break;
            case 1937:s="646566788987"; break;
            case 1938:s="646566888988"; break;
            case 1939:s="656666888988"; break;
            case 1940:s="656566788877"; break;
            case 1941:s="646566788987"; break;
            case 1942:s="646566888988"; break;
            case 1943:s="656666888988"; break;
            case 1944:s="656566788877"; break;
            case 1945:s="646566788987"; break;
            case 1946:s="646566888988"; break;
            case 1947:s="656666888988"; break;
            case 1948:s="656556788877"; break;
            case 1949:s="646566788987"; break;
            case 1950:s="646566888988"; break;
            case 1951:s="656566888988"; break;
            case 1952:s="656556778877"; break;
            case 1953:s="646566788887"; break;
            case 1954:s="646566888988"; break;
            case 1955:s="646566888988"; break;
            case 1956:s="655556778877"; break;
            case 1957:s="546566788887"; break;
            case 1958:s="646566888987"; break;
            case 1959:s="646566888988"; break;
            case 1960:s="655556778877"; break;
            case 1961:s="546566788887"; break;
            case 1962:s="646566788987"; break;
            case 1963:s="646566888988"; break;
            case 1964:s="655556777877"; break;
            case 1965:s="546566788887"; break;
            case 1966:s="646566788987"; break;
            case 1967:s="646566888988"; break;
            case 1968:s="655556777877"; break;
            case 1969:s="546566788877"; break;
            case 1970:s="646566788987"; break;
            case 1971:s="646566888988"; break;
            case 1972:s="655555777877"; break;
            case 1973:s="546566788877"; break;
            case 1974:s="646566788987"; break;
            case 1975:s="646566888988"; break;
            case 1976:s="655555777877"; break;
            case 1977:s="546556788877"; break;
            case 1978:s="646566788987"; break;
            case 1979:s="646566888988"; break;
            case 1980:s="655455777877"; break;
            case 1981:s="546556778877"; break;
            case 1982:s="646566788887"; break;
            case 1983:s="646566888987"; break;
            case 1984:s="645455777877"; break;
            case 1985:s="545556778877"; break;
            case 1986:s="546566788887"; break;
            case 1987:s="646566888987"; break;
            case 1988:s="645455777877"; break;
            case 1989:s="545556778877"; break;
            case 1990:s="546566788987"; break;
            case 1991:s="646566788987"; break;
            case 1992:s="645455777877"; break;
            case 1993:s="545556778877"; break;
            case 1994:s="546566788877"; break;
            case 1995:s="646566788987"; break;
            case 1996:s="645455777877"; break;
            case 1997:s="545556777877"; break;
            case 1998:s="546566788877"; break;
            case 1999:s="646566788987"; break;
            case 2000:s="645455777877"; break;
            case 2001:s="545555777877"; break;
            case 2002:s="546566788877"; break;
            case 2003:s="646566788987"; break;
            case 2004:s="645455777877"; break;
            case 2005:s="545555777877"; break;
            case 2006:s="546566788877"; break;
            case 2007:s="646566788987"; break;
            case 2008:s="645455777877"; break;
            case 2009:s="545555777877"; break;
            case 2010:s="546556778877"; break;
            case 2011:s="646566788987"; break;
            case 2012:s="645455777877"; break;
            case 2013:s="545555777877"; break;
            case 2014:s="546556778877"; break;
            case 2015:s="646566788887"; break;
            case 2016:s="645455777877"; break;
            case 2017:s="545455777877"; break;
            case 2018:s="546556778877"; break;
            case 2019:s="646566788887"; break;
            case 2020:s="645455777877"; break;
            case 2021:s="535455777877"; break;
            case 2022:s="545556778877"; break;
            case 2023:s="646566788887"; break;
            case 2024:s="645455677877"; break;
            case 2025:s="535455777877"; break;
            case 2026:s="545556777877"; break;
            case 2027:s="546566788887"; break;
            case 2028:s="645455677876"; break;
            case 2029:s="535455777877"; break;
            case 2030:s="545555777877"; break;
            case 2031:s="546566788887"; break;
            case 2032:s="645455677876"; break;
            case 2033:s="535455777877"; break;
            case 2034:s="545555777877"; break;
            case 2035:s="546566788877"; break;
            case 2036:s="645455677876"; break;
            case 2037:s="535455777877"; break;
            case 2038:s="545555777877"; break;
            case 2039:s="546566788877"; break;
            case 2040:s="645455677876"; break;
            case 2041:s="535455777877"; break;
            case 2042:s="545555777877"; break;
            case 2043:s="546556778877"; break;
            case 2044:s="645455677876"; break;
            case 2045:s="535455777877"; break;
            case 2046:s="545455777877"; break;
            case 2047:s="546556778877"; break;
            case 2048:s="645455677776"; break;
            case 2049:s="535455777877"; break;
            case 2050:s="545455777877"; break;
            case 2051:s="546556778877"; break;
            default  :
                if (cmod(y, 4)==3) {
                    s="646566788887";
                } else {
                    s="546556778877";
                }
        }
        m=cmod(m, 12);
        x=parseInt(s.substr(m-1, 1));
        return x;
    }
    
	    /* 年号切り替えイベント */
    function chg_nengo(parts) {
        b_nengo=parts.options[parts.selectedIndex].value;
        switch (b_nengo) {
            case "平成":b_y_bias=1988; break;
            case "昭和":b_y_bias=1925; break;
            case "大正":b_y_bias=1911; break;
            case "明治":b_y_bias=1867; break;
            default    :b_y_bias=0;
        }
    }

	
	
    /* 計算ボタンイベント */
    function calc(f) {
        var w, x;
        var y1, m1;
		var today;
        var this_year;
        var this_month;
        var this_day;
		var your_age;
		var your_sex;
		var im_pd,im_pm,im_py  
       
		
        /*本日日付*/
		today = new Date()
        this_year = today.getFullYear();
        this_month = today.getMonth()+1;
        this_day = today.getDate();
				
		
        /* 計算 */
        b_y_inp=parseInt(f.y_inp.value, 10);
        b_y0=b_y_inp+b_y_bias;
        b_m0=parseInt(f.m_inp.value, 10);
        b_d0=parseInt(f.d_inp.value, 10);
		x=calc_setsu(b_y0, b_m0);
		
		 
		 
		/*年齢計算*/
		
		your_age=0;
		if      (b_m0==this_month && b_d0<=this_day) your_age=this_year-b_y0   ;
		else if (b_m0==this_month && b_d0>this_day)  your_age=this_year-b_y0-1 ; 
		else if (b_m0 >this_month)                   your_age=this_year-b_y0-1 ;
		else if (b_m0 <this_month)                   your_age=this_year-b_y0   ; 
		else                                         your_age="error"          ;
		
		
	/* 異常干支　*/
       
	   /* まずは　1912/2/1からの歴日数計算 */    
	
		    var dt1 = new Date(b_y0, b_m0-1, b_d0);
			var dt2 = new Date(1912, 2-1, 1);
			var diff = dt1 - dt2;
			var reki_d = diff / 86400000;    //1日は86400000ミリ秒
				
			
			
	   /* 日干支番号　算出　*/
			var  nikkan_n=reki_d%60
			
            if      (nikkan_n<17) nikkan_n=nikkan_n+44   ;
		    else if (nikkan_n>=17)  nikkan_n=nikkan_n-16 ; 
		    else                  nikkan_n="error"   ;
	

		
         y1=b_y0;
         m1=b_m0;		
        if (x>b_d0) {
            c_sflg=1;
            m1=m1-1;
            if (m1<1) {
                m1=m1+12;
                y1=y1-1;
            }
            c_sdte=calc_maxdte(y1, m1)-calc_setsu(y1, m1)+b_d0;
        } else {
            c_sflg=0;
            c_sdte=b_d0-x;
        }
        
        im_py=b_y0;
        if (b_m0<2 || (b_m0==2 && c_sflg==1)) {
            im_py=im_py-1;
        }
        im_py=cmod(im_py-3, 60);
        im_ky=cmod(im_py, 10);
        im_sy=cmod(im_py, 12);
        im_zy=calc_zokan(im_sy, c_sdte);  
        im_pm=b_y0*12+b_m0;
        if (c_sflg==1) {
            im_pm=im_pm-1;
        }			
        im_pm=cmod(im_pm-47, 60);				
        im_km=cmod(im_pm, 10);
        im_sm=cmod(im_pm, 12);
        im_zm=calc_zokan(im_sm, c_sdte);
        x=cdate(b_y0, b_m0, b_d0);
        im_pd=cmod(x, 60);
        im_kd=cmod(im_pd, 10);
        im_sd=cmod(im_pd, 12);
        im_zd=calc_zokan(im_sd, c_sdte);
        im_tx=11-cint((im_pd-1)/10)*2;

        ym_sc=calc_10shu(im_kd, im_zm);
        ym_se=calc_10shu(im_kd, im_zy);
        ym_sw=calc_10shu(im_kd, im_zd);
        ym_sn=calc_10shu(im_kd, im_ky);
        ym_ss=calc_10shu(im_kd, im_km);
        ym_jy=calc_12jyu(im_kd, im_sy);
        ym_jm=calc_12jyu(im_kd, im_sm);
        ym_jd=calc_12jyu(im_kd, im_sd);
		
		/* 異常干支　検査　日*/

             var ar=[11,12,18,19,23,24,25,30,35,36,37,48,54];	
		     var ijoflag = 0
	      	if (ar.indexOf(im_pd) >= 0) {
             ijoflag = 1  ;
             };  

		
		 /* 異常干支　検査　月*/
   
             var ar2=[11,12,18,19,23,24,25,30,35,36,37,48,54];	
		     var ijoflag2 = 0
												
	      	if (ar2.indexOf(im_pm) >= 0) {
             ijoflag2 = 1  ;
             };  	
	

		 /* 異常干支　検査　年*/
 
             var ar3=[11,12,18,19,23,24,25,30,35,36,37,48,54];	
		     var ijoflag3 = 0
	      	if (ar3.indexOf(im_py) >= 0) {
             ijoflag3 = 1  ;
             };  	 	 
		
		
		/* 次の節入日までの日数*/
		    var yoku_setsu = 0
		
		  	if    (b_d0<=calc_setsu(b_y0,b_m0))      yoku_setsu = calc_setsu(b_y0,b_m0)-b_d0    ;
			else if (b_m0==12)                       yoku_setsu = calc_setsu(b_y0+1,1)+calc_maxdte(b_y0,12)-b_d0 ;
			else                                     yoku_setsu = calc_setsu(b_y0,b_m0+1)+calc_maxdte(b_y0,b_m0)-b_d0 ;
		    
		                       	
		/* 前の節入日までの日数*/
		    var mae_setsu = 0
		
		  	if    (b_d0>=calc_setsu(b_y0,b_m0))      mae_setsu = b_d0-calc_setsu(b_y0,b_m0)    ;
			else if (b_m0==1)                        mae_setsu = b_d0+calc_maxdte(b_y0,12)-calc_setsu(b_y0-1,12) ;
			else                                     mae_setsu = b_d0-calc_setsu(b_y0,b_m0-1)+calc_maxdte(b_y0,b_m0-1) ;
		    
		    
		/* 順行運初旬*/
		    var j_shojun = 0
		    if      (b_d0==calc_setsu(b_y0,b_m0))         j_shojun = 10  ;
			else if (parseInt(yoku_setsu/3)>=10)       j_shojun = 10  ;
			else if (parseInt(yoku_setsu/3)<=1)    j_shojun = 1  ;
			else if (yoku_setsu%3>=2)        j_shojun = 1+parseInt(yoku_setsu/3);
			else if (yoku_setsu%3==1)        j_shojun = parseInt(yoku_setsu/3);
			else    j_shojun = parseInt(yoku_setsu/3) ;
		
		 /* 逆行運初旬*/
		    var g_shojun = 0
		    if      (b_d0==calc_setsu(b_y0,b_m0))         g_shojun = 1  ;
			else if (parseInt(mae_setsu/3)>=10)        g_shojun = 10  ;
			else if (parseInt(mae_setsu/3)<=1)         g_shojun = 1  ;
	        else if (mae_setsu%3==2)                      g_shojun = 1+parseInt(mae_setsu/3);
		    else if (yoku_setsu%3==1)                      g_shojun = parseInt(mae_setsu/3);
			else    g_shojun = parseInt(mae_setsu/3);  
			
		    
		
		
		/*　性別チェック */
		var your_sex ="";

        var mysex = document.getElementsByName("radio");
        for (i = 0; i < mysex.length; i++)  {
        if (mysex[i].checked) {
           your_sex = mysex[i].value;
	        }
        }
         
		/* 大運方向 */
		var sei_flag = 0 ;
		
		if       (your_sex == "女") sei_flag = -1   ;
		else if  (your_sex == "男") sei_flag = 1  ;
		else                    sei_flag = "error" ;
		
		var nen_inyou = 0 ;
		if      (im_ky%2 == 0) nen_inyou = -1    ;
		else if (im_ky%2 == 1) nen_inyou = 1     ;
		else                   nen_inyou = 0   ;
		
		var taiunhoukou = 0  ;
		taiunhoukou = nen_inyou*sei_flag  ;
		
		
		/* 初旬決定 */
		var shojun
		if      (taiunhoukou == 1)  shojun = j_shojun ;
		else if (taiunhoukou ==-1) shojun = g_shojun ;
		else                       shojun = "error" ;
		
		
		
		moku=0;
		ka=0;
		dou=0;
		gon=0;
		sui=0;
		
		/*日干の五行*/
		if (im_kd==1 || im_kd==2) {                   
		   moku=moku+1;
		   }else if (im_kd==3 || im_kd==4){
		   ka=ka+1;
		   }else if (im_kd==5 || im_kd==6){
		   dou=dou+1;
		   }else if (im_kd==7 || im_kd==8){
		   gon=gon+1;
		   }else if (im_kd==9 || im_kd==10){
		   sui=sui+1}
		   
		/*月干の五行*/
		if (im_km==1 || im_km==2) {                   
		   moku=moku+1;
		   }else if (im_km==3 || im_km==4){
		   ka=ka+1;
		   }else if (im_km==5 || im_km==6){
		   dou=dou+1;
		   }else if (im_km==7 || im_km==8){
		   gon=gon+1;
		   }else if (im_km==9 || im_km==10){
		   sui=sui+1}

        /*年干の五行*/
		if (im_ky==1 || im_ky==2) {                   
		   moku=moku+1;
		   }else if (im_ky==3 || im_ky==4){
		   ka=ka+1;
		   }else if (im_ky==5 || im_ky==6){
		   dou=dou+1;
		   }else if (im_ky==7 || im_ky==8){
		   gon=gon+1;
		   }else if (im_ky==9 || im_ky==10){
		   sui=sui+1}
		   
        /*日支の五行*/
		if (im_sd==3 || im_sd==4) {                   
		   moku=moku+1;
		   }else if (im_sd==6 || im_sd==7){
		   ka=ka+1;
		   }else if (im_sd==2 || im_sd==5 || im_sd==8 || im_sd==11){
		   dou=dou+1;
		   }else if (im_sd==9 || im_sd==10){
		   gon=gon+1;
		   }else if (im_sd==1 || im_sd==12){
		   sui=sui+1}	


		/*月支の五行*/
		if (im_sm==3 || im_sm==4) {                   
		   moku=moku+2;
		   }else if (im_sm==6 || im_sm==7){
		   ka=ka+2;
		   }else if (im_sm==2 || im_sm==5 || im_sm==8 || im_sm==11){
		   dou=dou+2;
		   }else if (im_sm==9 || im_sm==10){
		   gon=gon+2;
		   }else if (im_sm==1 || im_sm==12){
		   sui=sui+2}		   
   
        /*年支の五行*/
		if (im_sy==3 || im_sy==4) {                   
		   moku=moku+1;
		   }else if (im_sy==6 || im_sy==7){
		   ka=ka+1;
		   }else if (im_sy==2 || im_sy==5 || im_sy==8 || im_sy==11){
		   dou=dou+1;
		   }else if (im_sy==9 || im_sy==10){
		   gon=gon+1;
		   }else if (im_sy==1 || im_sy==12){
		   sui=sui+1}		   
		   
		   
		 //alert("基本五行="+moku+","+ka+","+dou+","+gon+","+sui);

         
		 //alert(calc_gogyo_cng(im_sd, im_sm))
		 //alert("calc_gogyo_cng(im_sd, im_sy) = "+calc_gogyo_cng(im_sd, im_sy))
         //alert(calc_gogyo_cng(im_sm, im_sy))
		 
		 /* 三合会局　 　　　　　sangou_flag=1,2,3,4 なら　三合会局*/			
                var sangou = [im_sy,im_sm,im_sd];
				var sangou_flag=0;
				if (sangou.sort(sortNumber)=="1,5,9") sangou_flag=1;    　 //水局
                if (sangou.sort(sortNumber)=="2,6,10") sangou_flag=2;   　 //金局
                if (sangou.sort(sortNumber)=="3,7,11") sangou_flag=3;  　　 //火局
                if (sangou.sort(sortNumber)=="4,8,12") sangou_flag=4;  　  //木局
				
				if (sangou_flag==1 || sangou_flag==2 || sangou_flag==3 || sangou_flag==4){;
					if (sangou_flag==1){;           
					    if (im_sm==1)sui=sui+2,dou=dou-1,gon=gon-1;   // 化水で月支が子（水）なら
						if (im_sm==5)sui=sui+3,dou=dou-2,gon=gon-1;
                        if (im_sm==9)sui=sui+3,dou=dou-1,gon=gon-2;
					};
					
					if (sangou_flag==2){;           
					    if (im_sm==2)gon=gon+3,dou=dou-2,ka=ka-1;    
						if (im_sm==6)gon=gon+3,dou=dou-1,ka=ka-2;
                        if (im_sm==10)gon=gon+2,dou=dou-1,ka=ka-1;    // 化金で月支が酉（金）なら
					};
					
					if (sangou_flag==3){;           
					    if (im_sm==3)ka=ka+3,moku=moku-2,dou=dou-1;    
						if (im_sm==7)ka=ka+2,moku=moku-1,dou=dou-1;   // 化火で月支が午（火）なら
                        if (im_sm==11)ka=ka+3,moku=moku-1,dou=dou-2;    
					};				
					
					if (sangou_flag==4){;           
					    if (im_sm==4)moku=moku+2,dou=dou-1,sui=sui-1;  // 化木で月支が卯（木）なら 
						if (im_sm==8)moku=moku+3,dou=dou-2,sui=sui-1;   
                        if (im_sm==12)moku=moku+3,dou=dou-1,sui=sui-2;    
					};				
					
				//alert("三合会局="+moku+","+ka+","+dou+","+gon+","+sui)	
				};
					
		
		/* 方三位　　　　　　　 sangou_flag=5,6,7,8 なら　方三位*/	
				if (sangou.sort(sortNumber)=="1,2,12") sangou_flag=5;  　  //水局
				if (sangou.sort(sortNumber)=="3,4,5") sangou_flag=6;   　　 //木局
				if (sangou.sort(sortNumber)=="6,7,8") sangou_flag=7;   　　 //火局
				if (sangou.sort(sortNumber)=="9,10,11") sangou_flag=8;    //金局					
				
				if (sangou_flag==5 || sangou_flag==6 || sangou_flag==7 || sangou_flag==8){;
					if (sangou_flag==5){;           
					    if (im_sm==1)sui=sui+1,dou=dou-1;  
						if (im_sm==2)sui=sui+2,dou=dou-2;   // 化水で月支が丑（土）なら 2個増減
                        if (im_sm==12)sui=sui+1,dou=dou-1;    
					};	
						
					if (sangou_flag==6){;           
					    if (im_sm==3)moku=moku+1,dou=dou-1;  
						if (im_sm==4)moku=moku+1,dou=dou-1;   
                        if (im_sm==5)moku=moku+2,dou=dou-2;  　// 化木で月支が辰（土）なら  2個増減
					};	
					
					if (sangou_flag==7){;           
					    if (im_sm==6)ka=ka+1,dou=dou-1; 
						if (im_sm==7)ka=ka+1,dou=dou-1;   
                        if (im_sm==8)ka=ka+2,dou=dou-2;  　// 化火で月支が未（土）なら  2個増減
					};	
					
					if (sangou_flag==8)	
					if (sangou_flag==8){;           
					    if (im_sm==9)gon=gon+1,dou=dou-1; 
						if (im_sm==10)gon=gon+1,dou=dou-1;   
                        if (im_sm==11)gon=gon+2,dou=dou-2;  　// 化金で月支が戌（土）なら  2個増減
					};	
					
					
				//alert("方三位="+moku+","+ka+","+dou+","+gon+","+sui)	
                };
				

	   			
		
/* 位相法表による五行の調整 */
				// d_12shiggno=[0,5,3,1,1,3,2,2,3,4,4,3,1];  支五行
				var isho_flag1=0;
				var isho_flag2=0;
				var isho_flag3=0;
		        var gg_adj_isho=[0,0,0,0,0,0];   // 五行位相法表での増減array 初期化
			//alert("日月="+calc_gogyo_cng(im_sd,im_sm))
			//alert("日年="+calc_gogyo_cng(im_sd,im_sy))
			//alert("月年="+calc_gogyo_cng(im_sm,im_sy))
			
			if (calc_gogyo_shigo(im_sd,im_sm)!=0)  isho_flag1=1;    // 日月　支合
			if (calc_gogyo_hankai(im_sd,im_sm)!=0) isho_flag1=2;    　// 日月　半会
			if (calc_gogyo_shigo(im_sd,im_sy)!=0)  isho_flag2=1;    // 日年　支合
			if (calc_gogyo_hankai(im_sd,im_sy)!=0) isho_flag2=2;   　 // 日年　半会
			if (calc_gogyo_shigo(im_sm,im_sy)!=0)  isho_flag3=1;    // 月年　支合
			if (calc_gogyo_hankai(im_sm,im_sy)!=0) isho_flag3=2;     // 月年　半会
						
		//alert("日月フラグ＝"+isho_flag1+"支合＝"+calc_gogyo_shigo(im_sd,im_sm)+"半会＝"+calc_gogyo_hankai(im_sd,im_sm));	
		//alert("日年フラグ＝"+isho_flag2+"支合＝"+calc_gogyo_shigo(im_sd,im_sy)+"半会＝"+calc_gogyo_hankai(im_sd,im_sy));
		//alert("月年フラグ＝"+isho_flag3+"支合＝"+calc_gogyo_shigo(im_sm,im_sy)+"半会＝"+calc_gogyo_hankai(im_sm,im_sy));
		//alert("flag合計＝"+(isho_flag1+isho_flag2+isho_flag3))
		
/////////  五行特殊パターンフラグ設定 special_flag //////////////////////////////////////////////
 
　　　　　　　　　　　　　var special_flag = 0;
              ///  1つの支が2つの五行になる
				if (sangou.sort(sortNumber)=="1,6,9") {
				   if (im_sm==9){    //子申巳 月支が申
				        special_flag=1;        　 
					}else{
					    special_flag=2;
					};
				};					
                if (sangou.sort(sortNumber)=="4,7,8") {
				   if (im_sm==8){     //卯未牛 月支が未
					    special_flag=3;
                   }else{
					    special_flag=4;   
				   }
				};  
				
				if (sangou.sort(sortNumber)=="3,7,12") {
				   if (im_sm==3){    //牛寅亥 月支が寅
				        special_flag=5;    　 
					}else{
					    special_flag=6;
					};
				};	
				
                if (sangou.sort(sortNumber)=="1,2,10") {
				   if (im_sm==2){     //酉丑子 月支が丑
					    special_flag=7;
                   }else{
					    special_flag=8;   
				   }
                };
				
			  ///  上記の変形
				if (sangou.sort(sortNumber)=="1,5,10") {
				   if (im_sm==5){
				        special_flag=9;  　  //酉辰子
					}else{
					    special_flag=10;
					};
			    };				
				
				if (sangou.sort(sortNumber)=="4,7,11") {
				   if (im_sm==11){
				      special_flag=11;  　  //卯戌牛
				   }else{
				      special_flag=12;
			       };
				};				
				
			  ///  １つの支が半会・支合する
				if (sangou.sort(sortNumber)=="6,9,10") {
				   if(im_sm==6){
				      special_flag=13;  　  //酉巳申
					  }else{
				      special_flag=14; 					  
					  };
				};
				
				if (sangou.sort(sortNumber)=="3,4,12") {
				   if(im_sm==12){
				     special_flag=15;  　  //卯亥寅
                   }else{
				     special_flag=16;  　  
                   };
                };				   
//////////////////////////////////////////////////   五行特殊パターン　設定　end					
 ///////////    五行特殊パターン　処理　special_flag != 0 ///////////////////////


	if (sangou_flag==0 && special_flag!=0){
	
	   switch(special_flag){
	   　　　/// 
			case 1:					    
				//alert("special_flag process = "+special_flag);
				// 月支が申 （金-2、水+1、金+1）
				　　　gg_adj_isho[4]=gg_adj_isho[4]-2;
				    gg_adj_isho[4]=gg_adj_isho[4]+2;
					gg_adj_isho[5]=gg_adj_isho[5]+2;
				break;
				
			case 2:					
				//alert("special_flag process = "+special_flag);
				// 日年支が申 （金-1、水+1、金+1）
				　　　gg_adj_isho[4]--;
				    gg_adj_isho[4]++;
					gg_adj_isho[5]++;
				break;
				
			case 3:
				//alert("special_flag process = "+special_flag);
				// 月支が未 （土-2、木+1、火+1）
				　　　gg_adj_isho[3]=gg_adj_isho[3]-2;
				    gg_adj_isho[1]=gg_adj_isho[1]+2;
					gg_adj_isho[2]=gg_adj_isho[2]+2;			   
				break;

			case 4:
				//alert("special_flag process = "+special_flag);
				// 月支が未 （土-1、木+1、火+1）
				　　　gg_adj_isho[3]--;
				    gg_adj_isho[1]++;
					gg_adj_isho[2]++;			   
				break;

			case 5:
				//alert("special_flag process = "+special_flag);
				// 牛寅亥 月支が寅 （金-2、木+1、火+1）
				　　　gg_adj_isho[4]=gg_adj_isho[4]-2;
				    gg_adj_isho[1]=gg_adj_isho[1]+2;
					gg_adj_isho[2]=gg_adj_isho[2]+2;			   
				break;

			case 6:
				//alert("special_flag process = "+special_flag);
				// 日年支が寅 （金-1、木+1、火+1）
				　　　gg_adj_isho[4]--;
				    gg_adj_isho[1]++;
					gg_adj_isho[2]++;			   
				break;
				
			case 7:
				//alert("special_flag process = "+special_flag);
				// 酉丑子 月支が丑 （土-2、水+1、金+1）
				　　　gg_adj_isho[3]=gg_adj_isho[3]-2;
				    gg_adj_isho[1]=gg_adj_isho[1]+2;
					gg_adj_isho[2]=gg_adj_isho[2]+2;			   
				break;
				
			case 8:
				//alert("special_flag process = "+special_flag);
				// 日年支が丑 （土-1、水+1、金+1）
				　　　gg_adj_isho[3]--;
				    gg_adj_isho[1]++;
					gg_adj_isho[2]++;			   
				break;

			case 9:
				//alert("special_flag process = "+special_flag);
				// 酉辰子 月支が辰 
				gg_adj_isho[3]=gg_adj_isho[3]-2;
				if (dou>=3){       // 土>=3 （土+1）
					gg_adj_isho[3]=gg_adj_isho[3]+2; 
				}else{　　　　　　　　　　// 土<3 （金+1）
				    gg_adj_isho[4]=gg_adj_isho[4]+2;
				}
				    gg_adj_isho[5]=gg_adj_isho[5]+2;			   
				break;
				
			case 10:
				//alert("special_flag process = "+special_flag);
				// 日年支が辰 （土-1、水+1、金+1）
				gg_adj_isho[3]--;
				if (dou>=3){
					gg_adj_isho[3]++;
				}else{
				    gg_adj_isho[4]++;
				}
				    gg_adj_isho[5]++;			   
				break;

			case 11:
				//alert("special_flag process = "+special_flag);
				// 卯戌牛 月支が戌
				gg_adj_isho[3]=gg_adj_isho[3]-2;
				if (dou>=3){       // 土>=3 （土+1）
					gg_adj_isho[3]=gg_adj_isho[3]+2; 
				}else{　　　　　　　　　　// 土<3 （金+1）
				    gg_adj_isho[1]=gg_adj_isho[1]+2;
				}
				    gg_adj_isho[2]=gg_adj_isho[2]+2;			   
				break;
				
			case 12:
				//alert("special_flag process = "+special_flag);
				// 日年支が戌 （土-1、木+1、火+1）
				gg_adj_isho[3]--;
				if (dou>=3){
					gg_adj_isho[3]++;
				}else{
				    gg_adj_isho[1]++;
				}
				    gg_adj_isho[2]++;			   
				break;

			case 13:
				//alert("special_flag process = "+special_flag);
				// 酉巳申 月支が巳
				gg_adj_isho[2]=gg_adj_isho[2]-2;
				gg_adj_isho[4]=gg_adj_isho[4]+2;
			   
				break;
				
			case 14:
				//alert("special_flag process = "+special_flag);
				// 酉巳申 日年支が巳 
				gg_adj_isho[2]--;
				gg_adj_isho[4]++;
		   
				break;
													
			case 15:
				//alert("special_flag process = "+special_flag);
				// 卯亥寅 月支が亥
				gg_adj_isho[5]=gg_adj_isho[5]-2;
				gg_adj_isho[1]=gg_adj_isho[1]+2;
			   
				break;
				
			case 16:
				//alert("special_flag process = "+special_flag);
				// 日年支が亥
				gg_adj_isho[5]--;
				gg_adj_isho[1]++;
		   
				break;

			default:
				 //alert("special_flag error = "+special_flag);
			   break;
	  };			
			
  };
//////////////////////  五行特殊パターン　処理　end   ////////////

		
		    if (sangou_flag==0 && special_flag==0){;
			    if (isho_flag1+isho_flag2+isho_flag3==0) gg_adj_isho=[0,0,0,0,0,0];
				
			  // 支合１個　-----------------------------------
				if (isho_flag1+isho_flag2+isho_flag3==1){;
				 // 日支・月支　	
				   if      (isho_flag1==1){;
				      if ((calc_gogyo_shigo(im_sd,im_sm)==1) || (calc_gogyo_shigo(im_sd,im_sm)==2) || (calc_gogyo_shigo(im_sd,im_sm)==3) || (calc_gogyo_shigo(im_sd,im_sm)==4) || (calc_gogyo_shigo(im_sd,im_sm)==5)){;	  	      
						  // 日支!=化ける支　→　化ける　、　日支=化ける支　→　変化なし
						   if (d_12shiggno[im_sd]!=calc_gogyo_shigo(im_sd,im_sm)){
								gg_adj_isho[d_12shiggno[im_sd]]--;
								gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]++;
							}							
						  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
						   if (d_12shiggno[im_sm]!=calc_gogyo_shigo(im_sd,im_sm)){
								gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
								gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]+2;
						   };							
                      };				   
				   }else if(isho_flag2==1){;
				  // 日支・年支　
				           if ((calc_gogyo_shigo(im_sd,im_sy)==1) || (calc_gogyo_shigo(im_sd,im_sy)==2) || (calc_gogyo_shigo(im_sd,im_sy)==3) || (calc_gogyo_shigo(im_sd,im_sy)==4) || (calc_gogyo_shigo(im_sd,im_sy)==5)){;	       
								if (d_12shiggno[im_sd]!=calc_gogyo_shigo(im_sd,im_sy)){
								    gg_adj_isho[d_12shiggno[im_sd]]--;
									gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]++;
								};
								if (d_12shiggno[im_sy]!=calc_gogyo_shigo(im_sd,im_sy)){
								    gg_adj_isho[d_12shiggno[im_sy]]--;
									gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]++;
                                };									
				           };				   
				   }else if(isho_flag3==1){;
				  // 月支・年支　
				    if ((calc_gogyo_shigo(im_sm,im_sy)==1) || (calc_gogyo_shigo(im_sm,im_sy)==2) || (calc_gogyo_shigo(im_sm,im_sy)==3) || (calc_gogyo_shigo(im_sm,im_sy)==4) || (calc_gogyo_shigo(im_sm,im_sy)==5)){;		
					  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
						   if (d_12shiggno[im_sm]!=calc_gogyo_shigo(im_sm,im_sy)){
						       gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]+2;
						   };
						   if (d_12shiggno[im_sy]!=calc_gogyo_shigo(im_sm,im_sy)){
						       gg_adj_isho[d_12shiggno[im_sy]]--;
							   gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]++;
                           };							   
			          };
				   };
			
			    };
			
			// 半会１個　----------------------------------------
			    if  ((isho_flag1==2 || isho_flag2==2 || isho_flag3==2) && (isho_flag1+isho_flag2+isho_flag3==2)){;
				  // 日支・月支　	
				   if      (isho_flag1==2){;
				      if ((calc_gogyo_hankai(im_sd,im_sm)==1) || (calc_gogyo_hankai(im_sd,im_sm)==2) || (calc_gogyo_hankai(im_sd,im_sm)==3) || (calc_gogyo_hankai(im_sd,im_sm)==4) || (calc_gogyo_hankai(im_sd,im_sm)==5)){;	  	      
						  // 日支!=化ける支　→　化ける　、　日支=化ける支　→　変化なし
						   if (d_12shiggno[im_sd]!=calc_gogyo_hankai(im_sd,im_sm)){
  						       gg_adj_isho[d_12shiggno[im_sd]]--;
							   gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]++;
                           };							   
						  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
						   if (d_12shiggno[im_sm]!=calc_gogyo_hankai(im_sd,im_sm)) {
						       gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]+2;
                           };							   
                      };				   
				   }else if(isho_flag2==2){;
				  // 日支・年支　
				           if ((calc_gogyo_hankai(im_sd,im_sy)==1) || (calc_gogyo_hankai(im_sd,im_sy)==2) || (calc_gogyo_hankai(im_sd,im_sy)==3) || (calc_gogyo_hankai(im_sd,im_sy)==4) || (calc_gogyo_hankai(im_sd,im_sy)==5)){;	       
								if (d_12shiggno[im_sd]!=calc_gogyo_hankai(im_sd,im_sy)) {
								    gg_adj_isho[d_12shiggno[im_sd]]--;
									gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]++;
								};
								if (d_12shiggno[im_sy]!=calc_gogyo_hankai(im_sd,im_sy)) {
								    gg_adj_isho[d_12shiggno[im_sy]]--;
									gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]++;
                                };									
				           };				   
				   }else if(isho_flag3==2){;
				  // 月支・年支　
				    if ((calc_gogyo_hankai(im_sm,im_sy)==1) || (calc_gogyo_hankai(im_sm,im_sy)==2) || (calc_gogyo_hankai(im_sm,im_sy)==3) || (calc_gogyo_hankai(im_sm,im_sy)==4) || (calc_gogyo_hankai(im_sm,im_sy)==5)){;		
						  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
						   if (d_12shiggno[im_sm]!=calc_gogyo_hankai(im_sm,im_sy)) {
						      gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							  gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]+2;
						    };
						   if (d_12shiggno[im_sy]!=calc_gogyo_hankai(im_sm,im_sy)) {
						      gg_adj_isho[d_12shiggno[im_sy]]--;
						      gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]++;
                           };							  
			          };
				   };				
				};
			// 支合１個　半会１個　（酉巳申、卯亥寅　以外）　---------------------------------------
			   if (isho_flag1+isho_flag2+isho_flag3==3){;
			    // 支合1個--------
				 // 日支・月支　	
				   if      (isho_flag1==1){;
				      if ((calc_gogyo_shigo(im_sd,im_sm)==1) || (calc_gogyo_shigo(im_sd,im_sm)==2) || (calc_gogyo_shigo(im_sd,im_sm)==3) || (calc_gogyo_shigo(im_sd,im_sm)==4) || (calc_gogyo_shigo(im_sd,im_sm)==5)){;	  	      
			          // 日支!=化ける支　→　化ける　、　日支=化ける支　→　変化なし
     				   if (d_12shiggno[im_sd]!=calc_gogyo_shigo(im_sd,im_sm)) {
					           gg_adj_isho[d_12shiggno[im_sd]]--;
							   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]++; 
						};
					  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
			           if (d_12shiggno[im_sm]!=calc_gogyo_shigo(im_sd,im_sm)) {
					           gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]+2; 
                        };							   
                      };				   
				   }else if(isho_flag2==1){;
				  // 日支・年支　
				           if ((calc_gogyo_shigo(im_sd,im_sy)==1) || (calc_gogyo_shigo(im_sd,im_sy)==2) || (calc_gogyo_shigo(im_sd,im_sy)==3) || (calc_gogyo_shigo(im_sd,im_sy)==4) || (calc_gogyo_shigo(im_sd,im_sy)==5)){;	       
						    if (d_12shiggno[im_sd]!=calc_gogyo_shigo(im_sd,im_sy)) {
							       gg_adj_isho[d_12shiggno[im_sd]]--;
								   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]++;
						    };
						    if (d_12shiggno[im_sy]!=calc_gogyo_shigo(im_sd,im_sy)) {
							       gg_adj_isho[d_12shiggno[im_sy]]--;
								   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]++;
                             };								   
				           };				   
				   }else if(isho_flag3==1){;
				  // 月支・年支　
				    if ((calc_gogyo_shigo(im_sm,im_sy)==1) || (calc_gogyo_shigo(im_sm,im_sy)==2) || (calc_gogyo_shigo(im_sm,im_sy)==3) || (calc_gogyo_shigo(im_sm,im_sy)==4) || (calc_gogyo_shigo(im_sm,im_sy)==5)){;		
					  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
					   if (d_12shiggno[im_sm]!=calc_gogyo_shigo(im_sm,im_sy)) {
					         gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
						     gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]+2;
						   };
					   if (d_12shiggno[im_sy]!=calc_gogyo_shigo(im_sm,im_sy)) {
					          gg_adj_isho[d_12shiggno[im_sy]]--;
							  gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]++;	
                        };							  
			          };
				   };
				   
	
				 // 半会1個　---------  
				  // 日支・月支　	
				   if      (isho_flag1==2){;
				      if ((calc_gogyo_hankai(im_sd,im_sm)==1) || (calc_gogyo_hankai(im_sd,im_sm)==2) || (calc_gogyo_hankai(im_sd,im_sm)==3) || (calc_gogyo_hankai(im_sd,im_sm)==4) || (calc_gogyo_hankai(im_sd,im_sm)==5)){;	  	      
			          // 日支!=化ける支　→　化ける　、　日支=化ける支　→　変化なし
     				   if (d_12shiggno[im_sd]!=calc_gogyo_hankai(im_sd,im_sm)) {
					            gg_adj_isho[d_12shiggno[im_sd]]--;
								gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]++;
                        };								
					  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
			           if (d_12shiggno[im_sm]!=calc_gogyo_hankai(im_sd,im_sm)) {
					            gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
								gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]+2;
                          };								
                      };				   
				   }else if(isho_flag2==2){;
				  // 日支・年支　
				           if ((calc_gogyo_hankai(im_sd,im_sy)==1) || (calc_gogyo_hankai(im_sd,im_sy)==2) || (calc_gogyo_hankai(im_sd,im_sy)==3) || (calc_gogyo_hankai(im_sd,im_sy)==4) || (calc_gogyo_hankai(im_sd,im_sy)==5)){;	       
						    if (d_12shiggno[im_sd]!=calc_gogyo_hankai(im_sd,im_sy)) gg_adj_isho[d_12shiggno[im_sd]]--,gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]++;
						    if (d_12shiggno[im_sy]!=calc_gogyo_hankai(im_sd,im_sy)) gg_adj_isho[d_12shiggno[im_sy]]--,gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]++;	                            					   
				           };				   
				   }else if(isho_flag3==2){;
				  // 月支・年支　
				    if ((calc_gogyo_hankai(im_sm,im_sy)==1) || (calc_gogyo_hankai(im_sm,im_sy)==2) || (calc_gogyo_hankai(im_sm,im_sy)==3) || (calc_gogyo_hankai(im_sm,im_sy)==4) || (calc_gogyo_hankai(im_sm,im_sy)==5)){;		
					  // 月支!=化ける支　→　化ける（月支が化けるときは２個増減）　、　月支=化ける支　→　変化なし 
					   if (d_12shiggno[im_sm]!=calc_gogyo_hankai(im_sm,im_sy)) gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2,gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]+2;
					   if (d_12shiggno[im_sy]!=calc_gogyo_hankai(im_sm,im_sy)) gg_adj_isho[d_12shiggno[im_sy]]--,gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]++;	                          					   
			         };
				   }; 	
				   
			    };
				
				
				// 半会2個　-------------------------------------------------
				   if  ((isho_flag1+isho_flag2+isho_flag3==4) && (isho_flag1==0 || isho_flag2==0 || isho_flag3==0)){;
						if (isho_flag1==2){;
							   gg_adj_isho[d_12shiggno[im_sd]]--;
							   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[d_12shiggno[im_sy]]--;
							   gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_hankai(im_sd,im_sm)]+4;		
						   }else if(isho_flag2==2){;
							   gg_adj_isho[d_12shiggno[im_sd]]--;
							   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[d_12shiggno[im_sy]]--;
							   gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]=gg_adj_isho[calc_gogyo_hankai(im_sd,im_sy)]+4;
						   }else if(isho_flag3==2){;
							   gg_adj_isho[d_12shiggno[im_sd]]--;
							   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
							   gg_adj_isho[d_12shiggno[im_sy]]--;
							   gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_hankai(im_sm,im_sy)]+4;
						   };						
					};
				   
				// 支合2個　（二重支合）--------------------------------------------------   
				   if ((isho_flag1==1 || isho_flag2==1 || isho_flag3==1) && (isho_flag1+isho_flag2+isho_flag3==2)){;
							if (isho_flag1==0){;
								if (calc_gogyo_shigo(im_sd,im_sy) == 6 || calc_gogyo_shigo(im_sd,im_sy) == 7){
								}else{
								   gg_adj_isho[d_12shiggno[im_sd]]--;
								   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
								   gg_adj_isho[d_12shiggno[im_sy]]--;
								   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]=gg_adj_isho[calc_gogyo_shigo(im_sd,im_sy)]+4;
								};						   
								   
							}else if(isho_flag2==0){;
							    if (calc_gogyo_shigo(im_sd,im_sy) == 6 || calc_gogyo_shigo(im_sd,im_sy) == 7){
								}else{
								   gg_adj_isho[d_12shiggno[im_sd]]--;
								   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
								   gg_adj_isho[d_12shiggno[im_sy]]--;
								   gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]=gg_adj_isho[calc_gogyo_shigo(im_sm,im_sy)]+4;
								};
								   
							}else if(isho_flag3==0){;
								if (calc_gogyo_shigo(im_sd,im_sy) == 6 || calc_gogyo_shigo(im_sd,im_sy) == 7){
								}else{
								   gg_adj_isho[d_12shiggno[im_sd]]--;
								   gg_adj_isho[d_12shiggno[im_sm]]=gg_adj_isho[d_12shiggno[im_sm]]-2;
								   gg_adj_isho[d_12shiggno[im_sy]]--;
                                   gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]=gg_adj_isho[calc_gogyo_shigo(im_sd,im_sm)]+4;
								 };
							};				   
				   };			
			};
			
	//alert("位相法での調整="+gg_adj_isho)
			
	//alert("日="+im_kd+",月="+im_km+",年="+im_ky)		   
	//alert("月支五行＝"+d_12shiggno[im_sm])
	
	 /* 干合表による五行の調整 */
	            var gg_adj_kango_base=[0,0,0,0,0,0];   // 天干の変化前五行を配列に
                    gg_adj_kango_base[calc_gogyo_kan(im_kd)]++;
					gg_adj_kango_base[calc_gogyo_kan(im_km)]++;
					gg_adj_kango_base[calc_gogyo_kan(im_ky)]++;
   				var im_kd_c=im_kd;
				var im_km_c=im_km;
				var im_ky_c=im_ky;
		        var gg_adj_kango=[0,0,0,0,0,0];   // 干合表での五行調整array 初期化
				
			  // 日支・月支　間	

			   if  (Math.abs(im_kd-im_km)==5) {;　　　　　　　　　　　　　　　　　　　　//←干合条件		  
					if       (im_kd==1 && d_12shiggno[im_sm]==3){;     　　　　　　　　// 甲己干合（化土）で月支五行が土なら化ける        
						   im_kd_c=5,im_km_c=6;
					}else if (im_kd==6 && d_12shiggno[im_sm]==3){;
					       im_kd_c=6,im_km_c=5;	   
					}else if (im_kd==2 && d_12shiggno[im_sm]==4){;　　　　　　　　　　　//　庚乙干合（化金）で月支五行が金なら化ける
						   im_kd_c=8,im_km_c=7;
					}else if (im_kd==7 && d_12shiggno[im_sm]==4){;
					       im_kd_c=7,im_km_c=8;							   
					}else if (im_kd==3 && d_12shiggno[im_sm]==5){;             // 丙辛干合（化水）で月支五行が水なら化ける　　　　　　　
						   im_kd_c=9,im_km_c=10;
					}else if (im_kd==8 && d_12shiggno[im_sm]==5){;             　　　　　　　
						   im_kd_c=10,im_km_c=9;	   
					}else if (im_kd==4 && d_12shiggno[im_sm]==1){;             // 壬丁干合（化木）で月支が木なら化ける
						   im_kd_c=2,im_km_c=1;
					}else if (im_kd==9 && d_12shiggno[im_sm]==1){;
						   im_kd_c=1,im_km_c=2;	   
					}else if (im_kd==5 && d_12shiggno[im_sm]==2){;             //　戊癸干合（化火）で月支が火なら化ける
						   im_kd_c=3,im_km_c=4;	
					}else if (im_kd==10 && d_12shiggno[im_sm]==2){;
						   im_kd_c=4,im_km_c=3;			   
					};						
			   };				
		
			 // 日支・年支　間	
				if  (Math.abs(im_kd-im_ky)==5) {;　　　　　　　　　　　　　　　　　　　　//←干合条件		  
					if       (im_kd==1 && d_12shiggno[im_sm]==3){;     　　　　　　　　// 甲己干合（化土）で月支五行が土なら化ける        
						   im_kd_c=5,im_ky_c=6;
					}else if (im_kd==6 && d_12shiggno[im_sm]==3){;
					       im_kd_c=6,im_ky_c=5;	   
					}else if (im_kd==2 && d_12shiggno[im_sm]==4){;　　　　　　　　　　　//　庚乙干合（化金）で月支五行が金なら化ける
						   im_kd_c=8,im_ky_c=7;
					}else if (im_kd==7 && d_12shiggno[im_sm]==4){;
					       im_kd_c=7,im_ky_c=8;							   
					}else if (im_kd==3 && d_12shiggno[im_sm]==5){;             // 丙辛干合（化水）で月支五行が水なら化ける　　　　　　　
						   im_kd_c=9,im_ky_c=10;
					}else if (im_kd==8 && d_12shiggno[im_sm]==5){;             　　　　　　　
						   im_kd_c=10,im_ky_c=9;	   
					}else if (im_kd==4 && d_12shiggno[im_sm]==1){;             // 壬丁干合（化木）で月支が木なら化ける
						   im_kd_c=2,im_ky_c=1;
					}else if (im_kd==9 && d_12shiggno[im_sm]==1){;
						   im_kd_c=1,im_ky_c=2;	   
					}else if (im_kd==5 && d_12shiggno[im_sm]==2){;             //　戊癸干合（化火）で月支が火なら化ける
						   im_kd_c=3,im_ky_c=4;	
					}else if (im_kd==10 && d_12shiggno[im_sm]==2){;
						   im_kd_c=4,im_ky_c=3;			   
					};						
			   };				
				
				
			// 月支・年支　間		
				if  (Math.abs(im_km-im_ky)==5) {;　　　　　　　　　　　　　　　　　　　　//←干合条件		  
					if       (im_km==1 && d_12shiggno[im_sm]==3){;     　　　　　　　　// 甲己干合（化土）で月支五行が土なら化ける        
						   im_km_c=5,im_ky_c=6;
					}else if (im_km==6 && d_12shiggno[im_sm]==3){;
					       im_km_c=6,im_ky_c=5;	   
					}else if (im_km==2 && d_12shiggno[im_sm]==4){;　　　　　　　　　　　//　庚乙干合（化金）で月支五行が金なら化ける
						   im_km_c=8,im_ky_c=7;
					}else if (im_km==7 && d_12shiggno[im_sm]==4){;
					       im_km_c=7,im_ky_c=8;							   
					}else if (im_km==3 && d_12shiggno[im_sm]==5){;             // 丙辛干合（化水）で月支五行が水なら化ける　　　　　　　
						   im_km_c=9,im_ky_c=10;
					}else if (im_km==8 && d_12shiggno[im_sm]==5){;             　　　　　　　
						   im_km_c=10,im_ky_c=9;	   
					}else if (im_km==4 && d_12shiggno[im_sm]==1){;             // 壬丁干合（化木）で月支が木なら化ける
						   im_km_c=2,im_ky_c=1;
					}else if (im_km==9 && d_12shiggno[im_sm]==1){;
						   im_km_c=1,im_ky_c=2;	   
					}else if (im_km==5 && d_12shiggno[im_sm]==2){;             //　戊癸干合（化火）で月支が火なら化ける
						   im_km_c=3,im_ky_c=4;	
					}else if (im_km==10 && d_12shiggno[im_sm]==2){;
						   im_km_c=4,im_ky_c=3;			   
					};						
			   };	

			   
	        gg_adj_kango[calc_gogyo_kan(im_kd_c)]++;
			gg_adj_kango[calc_gogyo_kan(im_km_c)]++;
			gg_adj_kango[calc_gogyo_kan(im_ky_c)]++;
			//alert("干合調整前天干五行＝"+gg_adj_kango_base)
			//alert("干合調整後天干五行＝"+gg_adj_kango)
　　　　　　　　
             // 	基本の五行に三合会局・方三位・位相法・干合表を考慮して　五行を調整する
			 
			 var gogyo_base=[0,moku,ka,dou,gon,sui];        //←　基本五行に三合会局・方三位を加味してます
			 var gogyo_last=[0,0,0,0,0,0];
			 for (i=0; i<6; i++){
				 gogyo_last[i]=gogyo_base[i]+gg_adj_isho[i]-gg_adj_kango_base[i]+gg_adj_kango[i];
				 };
		 //alert("基本五行＝"+gogyo_base)  
		 //alert("調整後五行＝"+gogyo_last)
		 
		     // 位相法表で酉辰(化金・土)、卯戌(化木・土) 調整後五行に土>=3あれば。
			 var toritatu_flag=0;                                  // 酉辰　組合せ個数
			 if (calc_gogyo_cng(im_sd,im_sm)==6) toritatu_flag++;
			 if (calc_gogyo_cng(im_sd,im_sy)==6) toritatu_flag++;
			 if (calc_gogyo_cng(im_sm,im_sy)==6) toritatu_flag++;
			 if ((im_sd+im_sm+im_sy==20) && (toritatu_flag==2)) toritatu_flag=3;    // flag=3なら金１個と土2個　　　　flag=2なら金２個と土１個
			 var uinu_flag=0;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　// 卯戌　組合せ個数
			 if (calc_gogyo_cng(im_sd,im_sm)==7) uinu_flag++;
			 if (calc_gogyo_cng(im_sd,im_sy)==7) uinu_flag++;
			 if (calc_gogyo_cng(im_sm,im_sy)==7) uinu_flag++;
			 if ((im_sd+im_sm+im_sy==26) && (uinu_flag==2)) uinu_flag=3;　　　　　　　　　　//土2個
			//alert("calc_gogyo_cng(im_sd,im_sm) = "+calc_gogyo_cng(im_sd,im_sm)+","+"calc_gogyo_cng(im_sd,im_sy) = "+calc_gogyo_cng(im_sd,im_sy)+"calc_gogyo_cng(im_sm,im_sy) = "+calc_gogyo_cng(im_sm,im_sy));

			
/////////////  ここの下に　月支が酉でも辰でもでもなければどうなる？ /////////////////////////////

			// 酉（金）辰（土）調整 
			if  ((sangou_flag==0) && (toritatu_flag==1) && (special_flag==0)){;        // １組の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==10) gogyo_last[3]=gogyo_last[3]+2,gogyo_last[4]=gogyo_last[4]-2;     // 土>=３　しかも　月支が酉（金）なので　土+2　金-2
			        if (im_sm==5)  gogyo_last[3]++,gogyo_last[4]--;				     
				}else{;
				    if (im_sm==5)  gogyo_last[3]=gogyo_last[3]-2,gogyo_last[4]=gogyo_last[4]+2; 
					if (im_sm==10) gogyo_last[3]--,gogyo_last[4]++;	
				};
			};	
			

            if  ((sangou_flag==0) && (toritatu_flag==2) && (special_flag==0)){;        // 地支に金２個と土１個の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==10) gogyo_last[3]=gogyo_last[3]+3,gogyo_last[4]=gogyo_last[4]-3;    // 土>=３　しかも　月支が酉（金）で残りが酉（金）辰（土）なので　土+3　金-3
			        if (im_sm==5) gogyo_last[3]=gogyo_last[3]+2,gogyo_last[4]=gogyo_last[4]-2;    　// 月支が辰（土）なので　土+2 金-2
				}else{;
				    if (im_sm==5)  gogyo_last[3]=gogyo_last[3]-2,gogyo_last[4]=gogyo_last[4]+2;    //月支が辰（土）で化金なので　土-2 金+2
					if (im_sm==10) gogyo_last[3]--,gogyo_last[4]++;	                               //月支が酉（金）で残りが酉（金）辰（土）で化金なので　土-1金+1
				};
			};	
            			
           　if  ((sangou_flag==0) && (toritatu_flag==3) && (special_flag==0)){;        // 地支に金１個と土２個の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==10) gogyo_last[3]=gogyo_last[3]+2,gogyo_last[4]=gogyo_last[4]-2;     // 土>=３　しかも　月支が酉（金）なので　土+2　金-2
			        if (im_sm==5)   gogyo_last[3]++,gogyo_last[4]--;				     　　　　　　　　　　　　　// 月支が辰（土）なので　土+1 金-1
				}else{;
				    if (im_sm==5)  gogyo_last[3]=gogyo_last[3]-3,gogyo_last[4]=gogyo_last[4]+3;    //月支が辰（土）で残りが辰（土）酉（金）で化金なので　土-3 金+3
					if (im_sm==10) gogyo_last[3]=gogyo_last[3]-2,gogyo_last[4]=gogyo_last[4]+2;	               //月支が酉（金）で残りが辰（土）２個で化金なので　土-2金+2
				};
			};

//////////////  ここの下に　月支が卯でも戌でもなければ/////////////////////////////
			// 卯（木）戌（土）調整
			if  ((sangou_flag==0) && (uinu_flag==1) && (special_flag==0)){;        // １組の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==4)   gogyo_last[3]=gogyo_last[3]+2,gogyo_last[1]=gogyo_last[1]-2;     // 土>=３　しかも　月支が卯（木）なので　土+2　木-2
			        if (im_sm==11)  gogyo_last[3]++,gogyo_last[1]--;				     
				}else{;
				    if (im_sm==11)  gogyo_last[3]=gogyo_last[3]-2,gogyo_last[1]=gogyo_last[1]+2; 
					if (im_sm==4)   gogyo_last[3]--,gogyo_last[1]++;	
				};
			};	
			
			 if  ((sangou_flag==0) && (uinu_flag==2) && (special_flag==0)){;        // 地支に木２個と土１個の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==4)   gogyo_last[3]=gogyo_last[3]+3,gogyo_last[1]=gogyo_last[1]-3;     // 土>=３　しかも　月支が卯（木）で残りが卯（木）戌（土）なので　土+3　木-3
			        if (im_sm==11)  gogyo_last[3]=gogyo_last[3]+2,gogyo_last[1]=gogyo_last[1]-2;    　// 月支が戌（土）で残りが卯（木）２個なので　土+2 木-2
				}else{;
				    if (im_sm==11)  gogyo_last[3]=gogyo_last[3]-2,gogyo_last[1]=gogyo_last[1]+2;    //月支が戌（土）で残りが卯（木）２個で化木なので　土-2 木+2
					if (im_sm==4)   gogyo_last[3]--,gogyo_last[1]++;	                            //月支が卯（木）で残りが卯（木）戌（土）で化木なので　土-1木+1
				};
			};	
			
			if  ((sangou_flag==0) && (uinu_flag==3) && (special_flag==0)){;        // 地支に木１個と土２個の場合
			    if (gogyo_last[3]>=3){;
			　　　　　　　if (im_sm==4)   gogyo_last[3]=gogyo_last[3]+2,gogyo_last[1]=gogyo_last[1]-2;     // 土>=３　しかも　月支が卯（木）残りが戌(土）２個なので　土+2　木-2
			        if (im_sm==11)  gogyo_last[3]++,gogyo_last[1]--;				     　　　　　　　　　　　// 月支が戌（土）残りが卯（木）戌（土）なので　土+1 木-1
				}else{;
				    if (im_sm==11)  gogyo_last[3]=gogyo_last[3]-3,gogyo_last[1]=gogyo_last[1]+3;    //月支が戌（土）で残りが戌（土）卯（木）で化木なので　土-3 木+3
					if (im_sm==4)   gogyo_last[3]-2,gogyo_last[1]=gogyo_last[1]+2;	                //月支が卯（木）で残りが戌（土）２個で化木なので　土-2木+2
				};
			};

		//alert("位相法6,7での調整後＝"+gogyo_last)	
				 
			 
			 moku=gogyo_last[1];
			 ka=gogyo_last[2];
			 dou=gogyo_last[3];
			 gon=gogyo_last[4];
			 sui=gogyo_last[5];
			 
		/* 全体守護神　計算　*/
		     var z_shugoshin_flag=0;
			 var z_shugoshin=0;
			 var imigami=0;
		     var max_gogyo=0;
             var nikkan_gogyo=Math.round(im_kd/2);
	 //alert("日干五行＝"+nikkan_gogyo);
          if ((Math.max.apply(null,gogyo_last))>=4){;            // 五行のどれかが４以上あるなら全体守護神
		    　 max_gogyo=gogyo_last.indexOf(Math.max.apply(null,gogyo_last));     // 最多五行の決定（1,2,3,4,5)のどれか
			 
			 　z_shugoshin_flag=1;
			  z_shugoshin=d_z_shugo[nikkan_gogyo][max_gogyo][0];       //全体守護神　決定
			  imigami=d_z_shugo[nikkan_gogyo][max_gogyo][1];           //忌神　決定
			  
		  //alert("全体守護神フラグ＝"+z_shugoshin_flag)		 
	      //alert("全体守護神="+z_shugoshin)	
          //alert("忌神＝"+imigami)	 
		  
		  };


		
	 
	 //alert("最終五行＝"+gogyo_last)

		/* 伴星　算出　*/
				var bansei=0
				if (im_ky<=5) {bansei=im_ky+5} ;
				if (im_ky>=6) {bansei=im_ky-5} ;
				
				bansei = calc_10shu(im_kd,bansei) ;
				bansei = d_10shu[bansei];
				
				
		/* 才能　　1:北天運　 2:西天運　 3:東天運　 4:南天運	*/
		var tenun=[3,4,9,10];	
		var tenun_flag = 0
		var tenunmei=0
		if (tenun.indexOf(ym_sn)<0 && tenun.indexOf(ym_se)<0 && tenun.indexOf(ym_sc)<0 && tenun.indexOf(ym_sw)<0 && tenun.indexOf(ym_ss)<0) {                  
		   tenunmei="南天運";
		   tenun_flag=4;
		   }else if  ((tenun.indexOf(ym_sn)<0 && tenun.indexOf(ym_sc)<0 && tenun.indexOf(ym_ss)<0)&&(tenun.indexOf(ym_se)>=0 || tenun.indexOf(ym_sw)>=0)){
		   tenunmei="東天運";
		   tenun_flag=3;
		   }else if ((tenun.indexOf(ym_se)<0 && tenun.indexOf(ym_sc)<0 && tenun.indexOf(ym_sw)<0)&&(tenun.indexOf(ym_sn)>=0 || tenun.indexOf(ym_ss)>=0)){
		   tenunmei="西天運";
		   tenun_flag=2;
		   }else{ 	
		   tenunmei="北天運";
		   tenun_flag=1;
		   };
        //alert(tenun_flag+","+tenunmei)
   
        /* 剋線占技　　剋線個数　と　従星算出　*/
		var chishi=[0,0,0,0,0,0,0,0,0,0,0];     //地支の数　集計
		chishi[ym_sn]=chishi[ym_sn]+1;
		chishi[ym_sw]=chishi[ym_sw]+1;
		chishi[ym_sc]=chishi[ym_sc]+1;
		chishi[ym_se]=chishi[ym_se]+1;
		chishi[ym_ss]=chishi[ym_ss]+1;
	
		
		var kokusen=[0,0,0,0,0,0,0,0,0,0,0];
		if (calc_kokusen(ym_sn,ym_sw)==2){
		   kokusen[ym_sn]=kokusen[ym_sn]+1;
           kokusen[ym_sw]=kokusen[ym_sw]+1;}	   
		if (calc_kokusen(ym_sn,ym_sc)==2){
		   kokusen[ym_sn]=kokusen[ym_sn]+1;
           kokusen[ym_sc]=kokusen[ym_sc]+1;}   
        if (calc_kokusen(ym_sn,ym_se)==2){
		   kokusen[ym_sn]=kokusen[ym_sn]+1;
           kokusen[ym_se]=kokusen[ym_se]+1;}	   
        if (calc_kokusen(ym_sn,ym_ss)==2){
		   kokusen[ym_sn]=kokusen[ym_sn]+1;
           kokusen[ym_ss]=kokusen[ym_ss]+1;}	   
        if (calc_kokusen(ym_sw,ym_sc)==2){
		   kokusen[ym_sw]=kokusen[ym_sw]+1;
           kokusen[ym_sc]=kokusen[ym_sc]+1;} 
        if (calc_kokusen(ym_sw,ym_se)==2){
		   kokusen[ym_sw]=kokusen[ym_sw]+1;
           kokusen[ym_se]=kokusen[ym_se]+1;}	  
        if (calc_kokusen(ym_sw,ym_ss)==2){
		   kokusen[ym_sw]=kokusen[ym_sw]+1;
           kokusen[ym_ss]=kokusen[ym_ss]+1;}	  
        if (calc_kokusen(ym_sc,ym_se)==2){
		   kokusen[ym_sc]=kokusen[ym_sc]+1;
           kokusen[ym_se]=kokusen[ym_se]+1;}  
        if (calc_kokusen(ym_sc,ym_ss)==2){
		   kokusen[ym_sc]=kokusen[ym_sc]+1;
           kokusen[ym_ss]=kokusen[ym_ss]+1;}   
        if (calc_kokusen(ym_se,ym_ss)==2){
		   kokusen[ym_se]=kokusen[ym_se]+1;
           kokusen[ym_ss]=kokusen[ym_ss]+1;	}	
				
		
			for (var i = 0; i < 11; i++) {
			 if (chishi[i]!=0) kokusen[i]=kokusen[i]/chishi[i];
			 }

		/* 数理エネルギー　算出　*/    
				var kan_no=[0,0,0,0,0,0,0,0,0,0,0];
				kan_no[im_kd]=kan_no[im_kd]+1;     //命式日干
			
				kan_no[im_km]=kan_no[im_km]+1;　　　　//命式月干
			
				kan_no[im_ky]=kan_no[im_ky]+1;     //命式年干
				
			
				/* 支　合計算出　ルーチン　　　　　裏蔵干の支の合計　*/
				for (var i = 1; i < 4; i++) {;                   //日支から
					 kan_no[calc_ura_zokan(im_sd,i)]++ ;
					};
					
				for (var i = 1; i < 4; i++) {;　　　　　　　　　　　　　　　　//月支から
					 kan_no[calc_ura_zokan(im_sm,i)]++ ;
					} ;
					
				for (var i = 1; i < 4; i++) {;                  //年支から
					 kan_no[calc_ura_zokan(im_sy,i)]++ 
					};
	

		
				/* エネルギー値　小計　合計*/
				var energy_sum1=[0,0,0,0,0,0,0,0,0,0,0];
				for (var i = 1; i < 11; i++) {;
					 energy_sum1[i]=calc_12jyu(i,im_sd)+calc_12jyu(i,im_sm)+calc_12jyu(i,im_sy) ;
					} 
		　　		  
				var energy_sum2=[0,0,0,0,0,0];
				for (var i = 0; i < 5; i++) {;
					 energy_sum2[i+1]=energy_sum1[i*2+1]*kan_no[i*2+1]+energy_sum1[i*2+2]*kan_no[i*2+2];
					 } ;
		
		        /* エネルギー値総合計　*/
				var energy_sum0=0
				for (var i = 1; i < 6; i++) {;　　　　　　　　　　　　　　　　
					 energy_sum0=energy_sum0+energy_sum2[i] ;
					} ;
				
				/* 数理エネルギー　五行　*/
				var suri_gogyo=[0,0,0,0,0];

		        for (var i = 0; i < 5; i++) {;                   
					 suri_gogyo[i]=calc_suri_gogyo(im_kd,i);
					 };
		
		        /* 0歳の西暦　*/
				var zero_y = 0
				if (b_m0==1 || (b_m0==2 && b_d0 < calc_setsu(b_y0,2))){
				   zero_y = b_y0-1;
				}else{zero_y=b_y0};				
		
		      　 /* 命式の支を使ってのエネルギー計算　ルーチン　*/
			   
				/*function calc_energy1(a,b,c){;                      a=im_sd  b=im_sm c=im_sy 
				   var no_of_kan=[0,0,0,0,0,0,0,0,0,0,0];
					　no_of_kan[im_kd]=no_of_kan[im_kd]+1;     //命式日干
			         no_of_kan[im_km]=no_of_kan[im_km]+1;　　　　//命式月干
			         no_of_kan[im_ky]=no_of_kan[im_ky]+1;     //命式年干
					 
			    /* 大運・年運の干の合計　*/
				/*for (var i = 1; i < 4; i++) {;                   //日支から
					 no_of_kan[calc_ura_zokan(a,i)]++ ;
					};
					
				for (var i = 1; i < 4; i++) {;　　　　　　　　　　　　　　　　//月支から
					 no_of_kan[calc_ura_zokan(b,i)]++ ;
					} ;
					
				for (var i = 1; i < 4; i++) {;                  //年支から
					 no_of_kan[calc_ura_zokan(c,i)]++ 
					};
					 
					 
					 
                   var energy_kan=[0,0,0,0,0,0,0,0,0,0,0]; 
                     for (var i = 1; i < 11; i++) {;
					 energy_kan[i]=calc_12jyu(i,im_sd)+calc_12jyu(i,im_sm)+calc_12jyu(i,im_sy) ;


					
					
					x=parseInt(s.substr(k*2,2));
					return x;
                    }       
			  
		　　　　　　　 /* 大運・年運の支を使ってのエネルギー計算　ルーチン　*/
		
		/* 気心体　検査　*/
		var kst_ar=[ym_sn,ym_sw,ym_sc,ym_se,ym_ss];
		var kst_kan=[0,0,0,0,0];
		var k=0;
		if   (kst_ar.indexOf(1)>=0 && kst_ar.indexOf(4)>=0 && kst_ar.indexOf(5)>=0) kst_kan[k]=4,k=k+1;
		if   (kst_ar.indexOf(2)>=0 && kst_ar.indexOf(3)>=0 && kst_ar.indexOf(6)>=0) kst_kan[k]=3,k=k+1;
		if   (kst_ar.indexOf(3)>=0 && kst_ar.indexOf(6)>=0 && kst_ar.indexOf(7)>=0) kst_kan[k]=6,k=k+1;
		if	 (kst_ar.indexOf(4)>=0 && kst_ar.indexOf(5)>=0 && kst_ar.indexOf(8)>=0) kst_kan[k]=5,k=k+1;
		if	 (kst_ar.indexOf(5)>=0 && kst_ar.indexOf(8)>=0 && kst_ar.indexOf(9)>=0) kst_kan[k]=8,k=k+1;
		if	 (kst_ar.indexOf(6)>=0 && kst_ar.indexOf(7)>=0 && kst_ar.indexOf(10)>=0) kst_kan[k]=7,k=k+1;
		if	 (kst_ar.indexOf(7)>=0 && kst_ar.indexOf(10)>=0 && kst_ar.indexOf(1)>=0) kst_kan[k]=10,k=k+1;
		if	 (kst_ar.indexOf(8)>=0 && kst_ar.indexOf(9)>=0 && kst_ar.indexOf(2)>=0)  kst_kan[k]=9,k=k+1;
		if	 (kst_ar.indexOf(9)>=0 && kst_ar.indexOf(2)>=0 && kst_ar.indexOf(3)>=0)  kst_kan[k]=2,k=k+1;
		if	 (kst_ar.indexOf(10)>=0 && kst_ar.indexOf(1)>=0 && kst_ar.indexOf(4)>=0) kst_kan[k]=1,k=k+1;
			     
		    //alert(kst_kan) 
			//alert(kst_ar)
            //alert(k)			
		
		
		var sainou = 0
		var sainou_flag = 0     //剋線数1位が2星ある場合　	sainou_flag==1
        if  (kokusen[1]+kokusen[2]+kokusen[3]+kokusen[4]+kokusen[5]+kokusen[6]+kokusen[7]+kokusen[8]+kokusen[9]+kokusen[10] != 0){;
				if (kokusen.indexOf(Math.max.apply(null,kokusen))!=kokusen.lastIndexOf(Math.max.apply(null,kokusen))) {sainou_flag=1};
				if ((sainou_flag==1)&&(calc_juni(kokusen.indexOf(Math.max.apply(null,kokusen)),tenun_flag)<=calc_juni(kokusen.lastIndexOf(Math.max.apply(null,kokusen)),tenun_flag))) {sainou_flag=2};   //sainou_flag=2 配列の左側から表示
				
				if ((sainou_flag==1)&&(calc_juni(kokusen.indexOf(Math.max.apply(null,kokusen)),tenun_flag)>calc_juni(kokusen.lastIndexOf(Math.max.apply(null,kokusen)),tenun_flag))) {sainou_flag=3};   //sainou_flag=3 配列の右側から表示
				
				if (sainou_flag==0) {sainou = d_10shu[kokusen.indexOf(Math.max.apply(null,kokusen))]+"("+calc_juni(kokusen.indexOf(Math.max.apply(null,kokusen)),tenun_flag)+")"};
				if (sainou_flag==2) {sainou = d_10shu[kokusen.indexOf(Math.max.apply(null,kokusen))]+"("+calc_juni(kokusen.indexOf(Math.max.apply(null,kokusen)),tenun_flag)+"),"+d_10shu[kokusen.lastIndexOf(Math.max.apply(null,kokusen))]+"("+calc_juni(kokusen.lastIndexOf(Math.max.apply(null,kokusen)),tenun_flag)+")"};
				if (sainou_flag==3) {sainou = d_10shu[kokusen.lastIndexOf(Math.max.apply(null,kokusen))]+"("+calc_juni(kokusen.lastIndexOf(Math.max.apply(null,kokusen)),tenun_flag)+"),"+d_10shu[kokusen.indexOf(Math.max.apply(null,kokusen))]+"("+calc_juni(kokusen.indexOf(Math.max.apply(null,kokusen)),tenun_flag)+")"};
		}else{sainou=""};
		
		//alert(sainou_flag+","+sainou+","+kokusen)
		
		/* エネルギー値　　1:最身強　2:身強　3:身中　4:身弱　5:最身弱　*/
        var energy = parseInt(d_12jyuenergy[ym_jm])+parseInt(d_12jyuenergy[ym_jy])+parseInt(d_12jyuenergy[ym_jd])		
		var mikyo_flag = 0
		var energy_ar=new Array(ym_jd,ym_jm,ym_jy)
		var mikyo_ar=new Array("","最身強","身強","身中","身弱","最身弱")
		
		
		if       (energy>=31 || (energy_ar.sort(sortNumber).slice(1,3)=="12,12")) {;
					   mikyo_flag=1;
					}else if  ((energy<=30 && energy>=27) || (energy_ar.sort(sortNumber)[2]=="12") || (energy_ar.sort(sortNumber).slice(0,2)=="3,3" || (energy_ar.sort(sortNumber).slice(1,3)=="3,3"))) {
					  mikyo_flag=2;
					}else if ((energy<=26 && energy>=13)){
					  mikyo_flag=3;
					}else if ((energy<=12 && energy>=9)){
					  mikyo_flag=4;
					}else{
					  mikyo_flag=5;}
		//alert(energy_ar)
		//alert("エネルギー＝"+energy_ar.sort(sortNumber))
		//alert("身強配列＝"+energy_ar.sort(sortNumber).slice(0,2))
					  
					  
					  
					  
// ここから　六親図の中身を決定するロジック　　　　　---------------------------------------------------------------------------------------------------------->


     // 変数宣言   ------------------------------
	 
	 　　　var mother_ar=[0,10,9,2,1,4,3,6,5,8,7,];    // 母の干支決定テーブル
		var kango_ar=[0,6,7,8,9,10,1,2,3,4,5];      // パートナー決定テーブル（干合）
		var inyo_rev=[0,2,1,4,3,6,5,8,7,10,9];      // 陰陽逆の干支
		var mykan_ar=[im_kd,im_km,im_ky,calc_ura_zokan(im_sd,1),calc_ura_zokan(im_sm,1),calc_ura_zokan(im_sy,1),calc_ura_zokan(im_sd,2),calc_ura_zokan(im_sm,2),calc_ura_zokan(im_sy,2),calc_ura_zokan(im_sd,3),calc_ura_zokan(im_sm,3),calc_ura_zokan(im_sy,3)];
		
		var myupline=[0,im_kd,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
        // [0,自分,自母,自父,母祖母,母祖父,父祖母,父祖父,母母曾祖母,母母曾祖父,母父曾祖母,母父曾祖父,父母曾祖母,父母曾祖父,父父曾祖母,父父曾祖父]		16要素
		
		// パートナー側　宣言
	   
		var partner=[0,kango_ar[im_kd],0,0,0,0,0,0,0,0,0,0,0,0,0,0];
        // [0,partner,p母,p父,p母祖母,p母祖父,p父祖母,p父祖父,p母母曾祖母,p母母曾祖父,p母父曾祖母,p母父曾祖父,p父母曾祖母,p父母曾祖父,p父父曾祖母,p父父曾祖父]		16要素
		
		
	// パートナー1決定　　partner[1]
		if (mykan_ar.indexOf(kango_ar[im_kd])>=0) partner[1]=kango_ar[im_kd];
        if (mykan_ar.indexOf(kango_ar[im_kd])<0){;
	       if (mykan_ar.indexOf(inyo_rev[kango_ar[im_kd]])>=0) partner[1]=inyo_rev[kango_ar[im_kd]];
		   if (mykan_ar.indexOf(inyo_rev[kango_ar[im_kd]])<0){;
		       if (calc_ura_zokan(im_sd,3)!=0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//　蔵干の本元を探す（下から）
				  partner[1]=calc_ura_zokan(im_sd,3);
			   }else if(calc_ura_zokan(im_sd,2)!=0){;
				  partner[1]=calc_ura_zokan(im_sd,2);
			   }else if(calc_ura_zokan(im_sd,1)!=0){;
				  partner[1]=calc_ura_zokan(im_sd,1);
			   }else{partner[1]="E"};					// 99:該当なし
		   };　
		   };
      //alert(partner[1])  
		

     // -----------------------------------------
	 // 自分側　母決定ルーチン  ---------------------------------------------
	         		 　
				 function calc_mother(i) {;     　　　　　　　　　　     // 　i:子干位置　i*2:母干位置   
						if (myupline[i]!=11){;	
							var x=0;
		　　　　　				　if (mykan_ar.indexOf(mother_ar[myupline[i]])>=0) x=mother_ar[myupline[i]];　　　　　　　　　　　　　　　　　　　　　// iの相生の陰陽逆干支が陰占にある
							 if (mykan_ar.indexOf(mother_ar[myupline[i]])<0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//　陰占にない
								if (mykan_ar.indexOf(inyo_rev[mother_ar[myupline[i]]])>=0) x=inyo_rev[mother_ar[myupline[i]]]; //　iの相生の干支が陰占にある
								if (mykan_ar.indexOf(inyo_rev[mother_ar[myupline[i]]])<0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　 　　 // 陰占にない
								   if (i==1){;
									   if (calc_ura_zokan(im_sy,3)!=0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//　蔵干の本元を探す（下から）
										  x=calc_ura_zokan(im_sy,3);
									   }else if(calc_ura_zokan(im_sy,2)!=0){;
										  x=calc_ura_zokan(im_sy,2);
									   }else if(calc_ura_zokan(im_sy,1)!=0){;
										  x=calc_ura_zokan(im_sy,1);
									   }else{x=99};					// 99:error 						
								   }else{x=11};	                        // 11:該当なし
							 };	
							 };	
                        }else{x=11};							 
				 return x;			　　　
			    };
      //  自分側　母決定ルーチン　終わり　--------------------------------------------
	  
	  // 自分側 干合決定ルーチン　------------------------------------------------------
	  
	  　　　　　　　　　function calc_mykango(i) {;     　　　　　　　　　　     // 　i:決定元干支　*2:母干位置   
						if (myupline[i]!=11){;	
							var x=0;
		　　　　　				　if (mykan_ar.indexOf(kango_ar[myupline[i]])>=0) x=kango_ar[myupline[i]];　　　　　　　　　　　　　　　　　　　　　// iの干合が陰占にある
							 if (mykan_ar.indexOf(kango_ar[myupline[i]])<0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//　陰占にない
								if (mykan_ar.indexOf(inyo_rev[kango_ar[myupline[i]]])>=0) x=inyo_rev[kango_ar[myupline[i]]]; //　iの干合が陰占にある
								if (mykan_ar.indexOf(inyo_rev[kango_ar[myupline[i]]])<0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　 　　 // 陰占にない
								　　　if (i==2){;
									   x=im_ky;
									}else{x=11};               // 20:該当なし					
								};	
							 };	
                        }else{x=11};							 
				    return x;
	           };
	  
	  //  自分の先祖　　-----------------------
	  
	 	
		myupline[2]=calc_mother(1);          // 母
		myupline[3]=calc_mykango(2);        //　父
		myupline[4]=calc_mother(2);         //　母祖母
		myupline[5]=calc_mykango(4) ;     // 母祖父
		myupline[6]=calc_mother(3);
		myupline[7]=calc_mykango(6) ;
		myupline[8]=calc_mother(4);
		myupline[9]=calc_mykango(8) ;
		myupline[10]=calc_mother(5);
		myupline[11]=calc_mykango(10) ;
		myupline[12]=calc_mother(6);
		myupline[13]=calc_mykango(12) ;
		myupline[14]=calc_mother(7);
		myupline[15]=calc_mykango(14) ;
		
  //alert("my="+myupline)
	    
	   // パートナー側母決定ルーチン  ---------------------------------------------
	   
	         		 　
				 function calc_mother_p(i) {;     　　　　　　　　　　     // 　i:子干位置　i*2:母干位置   
					var x=0;
　　　　　				　if (mykan_ar.indexOf(mother_ar[partner[i]])>=0) x=mother_ar[partner[i]];
					 if (mykan_ar.indexOf(mother_ar[partner[i]])<0){;
					    if (mykan_ar.indexOf(inyo_rev[mother_ar[partner[i]]])>=0) x=inyo_rev[mother_ar[partner[i]]];
						if (mykan_ar.indexOf(inyo_rev[mother_ar[partner[i]]])<0){x=11};						
                     };		
                   return x;					 
			　　　 };
      //  パートナー側　母決定ルーチン　終わり　--------------------------------------------
	  //  パートナー側 干合決定ルーチン　------------------------------------------------------
	  
	  　　　　　　　　　function calc_pkango(i) {;     　　　　　　　　　　     // 　i:決定元干支　*2:母干位置   
						if (partner[i]!=11){;	
							var x=0;
		　　　　　				　if (mykan_ar.indexOf(kango_ar[partner[i]])>=0) x=kango_ar[partner[i]];　　　　　　　　　　　　　　　　　　　　　// iの干合が陰占にある
							 if (mykan_ar.indexOf(kango_ar[partner[i]])<0){;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//　陰占にない
								if (mykan_ar.indexOf(inyo_rev[kango_ar[partner[i]]])>=0) x=inyo_rev[kango_ar[partner[i]]]; //　iの干合が陰占にある
								if (mykan_ar.indexOf(inyo_rev[kango_ar[partner[i]]])<0)  x=11       　　　　　　　　　　　　　　　　　　　 // 該当なし						　　　
							 };	
                        }else{x=11};							 
				    return x;
	           };
	  
	  
	  //  パートナーの先祖　　-----------------------
	  
	 	
		partner[2]=calc_mother_p(1);	　　// パートナー母
		partner[3]=calc_pkango(2);  // パートナー父
		partner[4]=calc_mother_p(2);      // パートナー母祖母
		partner[5]=calc_pkango(4);
		partner[6]=calc_mother_p(3);
		partner[7]=calc_pkango(6);
		partner[8]=calc_mother_p(4);
		partner[9]=calc_pkango(8);
		partner[10]=calc_mother_p(5);
		partner[11]=calc_pkango(10);
		partner[12]=calc_mother_p(6);
		partner[13]=calc_pkango(12);
		partner[14]=calc_mother_p(7);
		partner[15]=calc_pkango(14);

		
	 //alert("partner="+partner)
		
		// 子供決定　ロジック　-------------------------------------
		var child_ar=[0,4,3,6,5,8,7,10,9,2,1,];    // 自分かパートナーの干支で子の干支決定テーブル
        var child=[0,0];                           // 子の干支
		var child_flag=0;                          // 子の干支存在フラグ
		// 自分が男
        if (sei_flag==1){;
	       if (mykan_ar.indexOf(child_ar[partner[1]])>=0 && (mykan_ar.indexOf(inyo_rev[child_ar[partner[1]]]))>=0) child_flag=2,child[0]=child_ar[partner[1]],child[1]=inyo_rev[child_ar[partner[1]]];
		   if (mykan_ar.indexOf(child_ar[partner[1]])>=0 && (mykan_ar.indexOf(inyo_rev[child_ar[partner[1]]]))<0) child_flag=1,child[0]=child_ar[partner[1]];
		   if (mykan_ar.indexOf(child_ar[partner[1]])<0 && (mykan_ar.indexOf(inyo_rev[child_ar[partner[1]]]))>=0) child_flag=1,child[0]=inyo_rev[child_ar[partner[1]]];
		   if (mykan_ar.indexOf(child_ar[partner[1]])<0 && (mykan_ar.indexOf(inyo_rev[child_ar[partner[1]]]))<0) child_flag=0,child[0]=11,child[1]=0;        // 該当なし
		};		
　　　　　　　//　自分が女
		if (sei_flag==-1){;
	       if (mykan_ar.indexOf(child_ar[im_kd])>=0 && (mykan_ar.indexOf(inyo_rev[child_ar[im_kd]]))>=0) child_flag=2,child[0]=child_ar[im_kd],child[1]=inyo_rev[child_ar[im_kd]];
		   if (mykan_ar.indexOf(child_ar[im_kd])>=0 && (mykan_ar.indexOf(inyo_rev[child_ar[im_kd]]))<0) child_flag=1,child[0]=child_ar[im_kd];
		   if (mykan_ar.indexOf(child_ar[im_kd])<0 && (mykan_ar.indexOf(inyo_rev[child_ar[im_kd]]))>=0) child_flag=1,child[0]=inyo_rev[child_ar[im_kd]];
		   if (mykan_ar.indexOf(child_ar[im_kd])<0 && (mykan_ar.indexOf(inyo_rev[child_ar[im_kd]]))<0) child_flag=0,child[0]=11,child[1]=0;        // 該当なし
		};	

				
			 
        /* 表示 */
        w=window.open("","sanmeigakumeisiki","WIDTH=750,HEIGHT=2000,SCROLLBARS=O,RESIZABLE=0,TOOLBAR=0,MENUBAR=0,LOCATION=0,DIRECTORIES=0,STATUS=0");
        w.document.open();
        w.document.write('<HTML lang="ja"><HEAD>');
        w.document.write('<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">');
        w.document.write('<META name="google" value="notranslate">');
		w.document.write('<meta http-equiv="content-style-type" content="text/css">')
        w.document.write('<TITLE>Maktubs 六親図</TITLE></HEAD><BODY>');
        
		
	 
		
		if 
	    
		   (isNaN(b_y_inp) || isNaN(b_m0) || isNaN(b_d0) || (your_sex!="男"　&& your_sex!="女")){
            w.document.write('性別は必須項目です。<BR>');
			w.document.write('日付入力が正しくありません。<BR>');
            w.document.write('数字は全て半角で入力して下さい。<BR>');
            w.document.write('また、星出し可能な年の範囲は、<BR>');
            w.document.write('明治6年(1873)～平成62年(2050)です。<BR>');
        } else {
            if (b_y0<1873 || b_y0>2050 || b_m0<1 || b_m0>12 || b_d0<0 || b_d0>31) {
                w.document.write('日付入力が正しくありません。<BR>');
                w.document.write('数字は全て半角で入力して下さい。<BR>');
                w.document.write('また、星出し可能な年の範囲は、<BR>');
                w.document.write('明治6年(1873)～平成62年(2050)です。<BR>');
            } else {
                /* 命式表示 */
				
                
				w.document.write("&nbsp;&nbsp;&nbsp;&nbsp;",your_sex,"性");
				w.document.write(" ",your_age,"歳");
				w.document.write("&nbsp;&nbsp;&nbsp;&nbsp;",b_nengo, b_y_inp, '年', b_m0, '月', b_d0, '日', "&nbsp;&nbsp;&nbsp;&nbsp;");
				w.document.write("エネルギー値 ⇒ ", +energy);
				w.document.write("&nbsp;&nbsp;&nbsp;&nbsp;")
				w.document.write(mikyo_ar[mikyo_flag].bold())
				w.document.write('<HR>');

				
			　　　// 大枠１テーブルの定義　　天中殺・陰占・陽占・位相法　ブロック
                w.document.write('<TABLE  BORDER=0 width="650" heigut="700" CELLSPACING=0 cellpadding=8>');
				// 1.左テーブル（天中殺）
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE   BORDER=1 CELLSPACING=0 cellpadding=8>');
				w.document.write('<TR ALIGN="center">')
				w.document.write('<TD style="font-size : 15px;"rowspan=3 width="15" height="50">', d_12shi[im_tx], d_12shi[im_tx+1]);
				w.document.write('</TABLE>');
				w.document.write('</TD>');
				// 2.中テーブル（陰占）
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE  BORDER=3 CELLSPACING=0 cellpadding=8>');
                w.document.write('<TR ALIGN="CENTER">');
                

				
				if       ((ijoflag==1)) {w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#FF99FF">', d_10kan[im_kd]);
					}else{
					  w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#dddddd">', d_10kan[im_kd]);}
					  
				if       ((ijoflag2==1)) {w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#FF99FF">', d_10kan[im_km]);
					}else{
					  w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#dddddd">', d_10kan[im_km]);}
					  
				if       ((ijoflag3==1)) {w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#FF99FF">', d_10kan[im_ky]);
					}else{
					  w.document.write('<TD  style="font-size : 12px;" width="30" bgcolor="#dddddd">', d_10kan[im_ky]);}
				w.document.write('<TR ALIGN="CENTER">');
				w.document.write('<TD  style="font-size : 12px;" bgcolor="#dddddd">', d_12shi[im_sd]);
				w.document.write('<TD  style="font-size : 12px;" bgcolor="#dddddd">', d_12shi[im_sm]);
				w.document.write('<TD  style="font-size : 12px;" bgcolor="#dddddd">', d_12shi[im_sy]);
				w.document.write('<TR ALIGN="CENTER">');
                w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sd,1)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sm,1)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sy,1)]);
				w.document.write('<TR ALIGN="CENTER">');
                w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sd,2)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sm,2)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sy,2)]);
				w.document.write('<TR ALIGN="CENTER">');
                w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sd,3)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sm,3)]);
				w.document.write('<TD  height="15" style="font-size : 12px;" bgcolor="#EEEEEE">', d_10kan1[calc_ura_zokan(im_sy,3)]);
				w.document.write('</TABLE>');
				w.document.write('</TD>');
				//　3.陽占・位相法リストテーブル　と　五行・調候守護神・才能・
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE  BORDER=0 CELLSPACING=0 cellpadding=5>');
				// 3-1.陽占・五行　テーブル
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE  BORDER=3 CELLSPACING=0 cellpadding=8>');
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<TD style="font-size : 10px;" width="40">',"");
				//w.document.write('<TD style="font-size : 10px;" width="40">', bansei);
                w.document.write('<TD style="font-size : 12px;" width="40" bgcolor="#dddddd">', d_10shu[ym_sn]);
                w.document.write('<TD style="font-size : 12px;" width="40" bgcolor="#dddddd">', d_12jyuen[ym_jy]);
				w.document.write('<TR ALIGN="CENTER">');
                w.document.write('<TD style="font-size : 12px;" width="40" bgcolor="#dddddd">', d_10shu[ym_sw]);
                w.document.write('<TD style="font-size : 12px;" bgcolor="#dddddd">', d_10shu[ym_sc]);
                w.document.write('<TD style="font-size : 12px;" bgcolor="#dddddd">', d_10shu[ym_se]);
                w.document.write('<TR ALIGN="CENTER">');
                w.document.write('<TD style="font-size : 12px;" bgcolor="#dddddd">', d_12jyuen[ym_jd]);
                w.document.write('<TD style="font-size : 12px;" bgcolor="#dddddd">', d_10shu[ym_ss]);
                w.document.write('<TD style="font-size : 12px;" bgcolor="#dddddd">', d_12jyuen[ym_jm]);
				w.document.write('</TABLE>');
				w.document.write('</TD>');
				
				
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE  BORDER=1 CELLSPACING=0 cellpadding=3>');　　　　// 合法・散法　テーブルスタート

				/* 大運表　全干支算出　*/
				var im_pm_t = 0
                if   　　 (taiunhoukou == 1) 	　　im_pm_t = im_pm+1  ;   //順行運　本人月干支の次の干支
                else if (taiunhoukou == -1)   im_pm_t = im_pm-1	;	 //逆行運　本人月干支の前の干支
	        	else  
				
				var taiun_kan=0 ,taiun_kan1=0 ,taiun_kan2=0 ,taiun_kan3=0 ,taiun_kan4=0 ,taiun_kan5=0 ,taiun_kan6=0 ,taiun_kan7=0 ;
				if     (im_pm_t%10==0) taiun_kan=10;
				else               taiun_kan=im_pm_t%10;
	
				if (taiunhoukou==1)
					{taiun_kan1=(taiun_kan+1)%10;
					taiun_kan2=(taiun_kan+2)%10;
					taiun_kan3=(taiun_kan+3)%10;
					taiun_kan4=(taiun_kan+4)%10;
					taiun_kan5=(taiun_kan+5)%10;
					taiun_kan6=(taiun_kan+6)%10;
					taiun_kan7=(taiun_kan+7)%10};
					
							 
				if (taiunhoukou==-1)
					{taiun_kan1=(taiun_kan+9)%10;
					taiun_kan2=(taiun_kan+8)%10;
					taiun_kan3=(taiun_kan+7)%10;
					taiun_kan4=(taiun_kan+6)%10;
					taiun_kan5=(taiun_kan+5)%10;
					taiun_kan6=(taiun_kan+4)%10;
					taiun_kan7=(taiun_kan+3)%10};
					
                if  (taiun_kan==0) taiun_kan=10;
                if  (taiun_kan1==0) taiun_kan1=10;
				if  (taiun_kan2==0) taiun_kan2=10;
				if  (taiun_kan3==0) taiun_kan3=10;
				if  (taiun_kan4==0) taiun_kan4=10;
				if  (taiun_kan5==0) taiun_kan5=10;
				if  (taiun_kan6==0) taiun_kan6=10;
				if  (taiun_kan7==0) taiun_kan7=10;					
					
				var taiun_shi=im_pm_t%12 ,taiun_shi1=0 ,taiun_shi2=0 ,taiun_shi3=0 ,taiun_shi4=0 ,taiun_shi5=0 ,taiun_shi6=0 ,taiun_shi7=0 ;
				
				if (taiunhoukou==1)
					{taiun_shi1=(taiun_shi+1)%12;
					taiun_shi2=(taiun_shi+2)%12;
					taiun_shi3=(taiun_shi+3)%12;
					taiun_shi4=(taiun_shi+4)%12;
					taiun_shi5=(taiun_shi+5)%12;
					taiun_shi6=(taiun_shi+6)%12;
					taiun_shi7=(taiun_shi+7)%12};
				if (taiunhoukou==-1)
					{taiun_shi1=(taiun_shi+11)%12;
					taiun_shi2=(taiun_shi+10)%12;
					taiun_shi3=(taiun_shi+9)%12;
					taiun_shi4=(taiun_shi+8)%12;
					taiun_shi5=(taiun_shi+7)%12;
					taiun_shi6=(taiun_shi+6)%12 ;
					taiun_shi7=(taiun_shi+5)%12};
					
                if (taiun_shi==0) taiun_shi=12;
				if (taiun_shi1==0) taiun_shi1=12;
				if (taiun_shi2==0) taiun_shi2=12;
				if (taiun_shi3==0) taiun_shi3=12;
				if (taiun_shi4==0) taiun_shi4=12;
				if (taiun_shi5==0) taiun_shi5=12;
				if (taiun_shi6==0) taiun_shi6=12;
				if (taiun_shi7==0) taiun_shi7=12;
				
			    
				
				/* 三合会局　 　　　　　sangou_flag=1 なら　三合会局*/			
                var sangou = [im_sy,im_sm,im_sd];
				var sangou_flag=0
				if (sangou.sort(sortNumber)=="1,5,9" || sangou.sort(sortNumber)=="2,6,10" || sangou.sort(sortNumber)=="3,7,11" || sangou.sort(sortNumber)=="4,8,12")   sangou_flag=1;

				//　位相法番号　　calc_gousan表に対応   →　01半会　02支合　03方三位　04対冲　05刑　06破　07害　08支合・破　09刑・冲　10刑・害　11刑・破　12刑・支合・破　　
			   　
			    /* 日干用　大半会　合法散法　天剋　洩天 検査　ルーチン　*/
				function calc_isoho(a,b,c,d) {     　　　　　　　　　　　//a:im_kd,im_md,im_yd    b:im_sd,im_sm,im_sy     c:taiun_kan   d:taiun_shi  (or c:calc_nenkan  d:calc_nenshi)
		 
						var x=0;
						
						if ((a==c) && (calc_gousan(b,d)==1)) x="大半会";    //　年干=月干で年月日のどれかが半会
						else x=d_gousan[calc_gousan(b,d)];
						
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==02) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==07) x="干合支害";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==05) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==08) x="干支合・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==09) x="干合合・干刑・冲";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==10) x="干支・干害・干刑";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==11) x="干刑・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==12) x="干合合・干刑・破";
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==04) x="天剋" ;
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==09) x="天剋・刑";
						if ((calc_soukoku(a,c)==01 || calc_soukoku(a,c)==02) && calc_gousan(b,d)==05 ) x="洩天・刑";
						if (((calc_soukoku(a,c)==01 || calc_soukoku(a,c)==02) && (b==d)) && calc_gousan(b,d)!=05) x="洩天";
							
						if ((a==c) && (b==d)) x="律音";
						if ((a==c) && (Math.abs(b-d)==6)) x="納音"
						if  (x==0) x="&nbsp;";
						return x;
					}
			    /* 月干・年干用　大半会　合法散法　天剋　洩天 検査　ルーチン　　　（洩天地支は日干のみ表示だから）　*/
				function calc_isoho2(a,b,c,d) {     　　　　　　　　　　　//a:im_kd,im_md,im_yd    b:im_sd,im_sm,im_sy     c:taiun_kan   d:taiun_shi  (or c:calc_nenkan  d:calc_nenshi)
		 
						var x=0;
						
						if ((a==c) && (calc_gousan(b,d)==1)) x="大半会";    //　年干=月干で年月日のどれかが半会
						else x=d_gousan[calc_gousan(b,d)];
						
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==02) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==07) x="干合支害";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==05) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==08) x="干合合・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==09) x="干合合・干刑・冲";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==10) x="干合合・干害・干刑";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==11) x="干合合・干刑・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==12) x="干合合・干刑・破";
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==04) x="天剋";
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==09) x="天剋・刑";
							
						if ((a==c) && (b==d)) x="律音";
						if ((a==c) && (Math.abs(b-d)==6)) x="納音"
						if  (x==0) x="&nbsp;";
						return x;
					} ;
			    
				/* 大運初旬用　大半会　合法散法 検査　ルーチン　　　　　大運初旬は律音が　戊＝丙　己＝丁　*/
				function calc_isoho3(a,b,c,d) {     　　　　　　　　　　　//a:im_kd,im_md,im_yd    b:im_sd,im_sm,im_sy     c:taiun_kan   d:taiun_shi  (or c:calc_nenkan  d:calc_nenshi)
		 
						var x=0;
						
						if ((a==c) && (calc_gousan(b,d)==1)) x="大半会";    //　年干=月干で年月日のどれかが半会
						else x=d_gousan[calc_gousan(b,d)];
						
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==02) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==07) x="干合支害";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==05) x="干合支合";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==08) x="干支合・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==09) x="干合合・干刑・冲";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==10) x="干支・干害・干刑";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==11) x="干刑・破";
						if  (Math.abs(a-c)==5 && calc_gousan(b,d)==12) x="干合合・干刑・破";
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==04) x="天剋" ;
						if ((calc_soukoku(a,c)==03 || calc_soukoku(a,c)==04) && calc_gousan(b,d)==09) x="天剋・刑";
						if ((calc_soukoku(a,c)==01 || calc_soukoku(a,c)==02) && calc_gousan(b,d)==05 ) x="洩天・刑";
						if (((calc_soukoku(a,c)==01 || calc_soukoku(a,c)==02) && (b==d)) && calc_gousan(b,d)!=05) x="洩天";
							
						if ((a==c) && (b==d)) x="律音";
						if (((a==5) && (c==3)) || ((a==3) && (c==5)) || ((a==6) && (c==4)) || ((a==4) && (c==6))) x=="律音";
						if ((a==c) && (Math.abs(b-d)==6)) x="納音"
						if  (x==0) x="&nbsp;";
						return x; 
					}
				
				
				
				
				var bg_flag=0    //大運表　初旬　干支　背景色　flag
				//　日干と大運干支
			    if  (calc_isoho3(im_kd,im_sd,taiun_kan,taiun_shi)=="大半会" || calc_isoho3(im_kd,im_sd,taiun_kan,taiun_shi)=="天剋" || calc_isoho3(im_kd,im_sd,taiun_kan,taiun_shi)=="納音" || calc_isoho3(im_kd,im_sd,taiun_kan,taiun_shi)=="律音"　||　calc_isoho3(im_kd,im_sd,taiun_kan,taiun_shi)=="天剋・刑") bg_flag=1;
				// 月干と大運干支
				if  (calc_isoho3(im_km,im_sm,taiun_kan,taiun_shi)=="大半会" || calc_isoho3(im_km,im_sm,taiun_kan,taiun_shi)=="天剋" || calc_isoho3(im_km,im_sm,taiun_kan,taiun_shi)=="納音" || calc_isoho3(im_km,im_sm,taiun_kan,taiun_shi)=="律音"　||　calc_isoho3(im_km,im_sm,taiun_kan,taiun_shi)=="天剋・刑") bg_flag=1;
				// 年干と大運干支
				if  (calc_isoho3(im_ky,im_sy,taiun_kan,taiun_shi)=="大半会" || calc_isoho3(im_ky,im_sy,taiun_kan,taiun_shi)=="天剋" || calc_isoho3(im_ky,im_sy,taiun_kan,taiun_shi)=="納音" || calc_isoho3(im_ky,im_sy,taiun_kan,taiun_shi)=="律音"　||　calc_isoho3(im_ky,im_sy,taiun_kan,taiun_shi)=="天剋・刑") bg_flag=1;
				
				
				
							
				/* 納音　検査　*/
				var nachin_flag=0
				if ((im_ky==im_km && Math.abs(im_sy-im_sm)==6) || (im_ky==im_kd && Math.abs(im_sy-im_sd)==6) || (im_kd==im_km && Math.abs(im_sd-im_sm)==6)) {nachin_flag=1};
				
			
     			/* 大半会　検査　*/
				var daihankai=0
			    if ((im_ky==im_km) && (calc_gousan(im_sy,im_sm)==1)) {daihankai=1};   //　年干=月干で年月日のどれかが半会
				if ((im_ky==im_kd) && (calc_gousan(im_sy,im_sd)==1)) {daihankai=2};   // 年干＝日干で年月日のどれかが半会　
				if ((im_km==im_kd) && (calc_gousan(im_sm,im_sd)==1)) {daihankai=3};   // 月干＝日干で年月日のどれかが半会
			
				/* 律音　検査 */
				var richin_flag=0
				if (im_py==im_pd) richin_flag=1;
                if (im_pm==im_pd) richin_flag=2;
				if (im_py==im_pm) richin_flag=3;
				
				/* 納音　検査　*/
				var nachin_flag=0
				if ((im_ky==im_km && Math.abs(im_sy-im_sm)==6) || (im_ky==im_kd && Math.abs(im_sy-im_sd)==6) || (im_kd==im_km && Math.abs(im_sd-im_sm)==6)) {nachin_flag=1};
				
				/*　合法・散法　算出　   →　01半会　02支合　03方三位　04対冲　05刑　06破　07害　08支合・破　09刑・冲　10刑・害　11刑・破　12刑・支合・破　　*/
			    //alert("年日"+calc_gousan(im_sy, im_sd)+"年月"+calc_gousan(im_sy, im_sm)+"月日"+calc_gousan(im_sm, im_sd))
				
				/* 干合　算出　*/
				var kangou_flag=0
				if  (Math.abs(im_kd-im_km)==5 || Math.abs(im_kd-im_ky)==5 || Math.abs(im_km-im_ky)==5)  kangou_flag=1;
				
				/* 天剋地冲 検査　*/
				var tenkoku_flag=0
				if ((calc_soukoku(im_kd,im_ky)==03 || calc_soukoku(im_kd,im_ky)==04) && Math.abs(im_sy-im_sd)==6) {tenkoku_flag=1};  //年・日
				if ((calc_soukoku(im_kd,im_km)==03 || calc_soukoku(im_kd,im_km)==04) && Math.abs(im_sm-im_sd)==6) {tenkoku_flag=2};  //日・月
				if ((calc_soukoku(im_km,im_ky)==03 || calc_soukoku(im_km,im_ky)==04) && Math.abs(im_sm-im_sy)==6) {tenkoku_flag=2};  //年・月

				/* 洩天地支　検査 */
				var eiten_flag=0
				if ((calc_soukoku(im_kd,im_ky)==01 || calc_soukoku(im_kd,im_ky)==02) &&(im_sy==im_sd)) {eiten_flag=1};  //年・日
				if ((calc_soukoku(im_kd,im_km)==01 || calc_soukoku(im_kd,im_km)==02) &&(im_sm==im_sd)) {eiten_flag=2};  //日・月
				if ((calc_soukoku(im_km,im_ky)==01 || calc_soukoku(im_km,im_ky)==02) &&(im_sm==im_sy)) {eiten_flag=2};  //年・月
				
		
		　　　　　　　/* 調候守護神 Array */

				var shugosin_ar=[["","丁丙庚","丁丙庚","丙癸","庚丙丁戊己","庚丁壬","癸丁庚","癸丁庚","癸庚丁","丁庚壬","丁庚丙","丁甲庚壬癸","庚丁丙戊"]
							   ,["","丙","丙","丙癸","丙癸","癸丙戊","癸","癸丙","癸丙","丙癸己","癸丙丁","癸辛","丙戊"]
							   ,["","壬戊己","壬甲","壬庚","壬庚","壬甲","壬庚癸","壬庚","壬庚","壬戊","壬癸","甲壬","甲戊庚壬"]
							   ,["","甲庚","甲庚","甲庚","庚甲","甲庚","甲庚壬","壬庚癸","甲庚壬","甲庚丙戊","甲丙戊庚","甲戊庚","甲庚"]
							   ,["","丙甲","丙甲","丙甲癸","丙甲癸","甲丙癸","癸甲丙","壬甲丙","癸甲丙","丙甲癸","丙癸","甲丙癸","甲丙"]
							   ,["","丙甲戊","丙甲戊","丙甲庚","甲癸丙","丙甲癸","癸丙辛","壬丙辛","癸丙","丙癸","丙癸","甲丙癸","丙甲戊"]
							   ,["","丁甲丙","丙丁甲","丙甲壬丁戊","丁甲丙庚","甲丁壬癸","壬丙戊丁","壬癸","丁甲","丁甲","丁甲丙","甲壬","丙丁甲"]
							   ,["","丙壬甲戊","丙壬戊己","己壬庚","壬甲","壬甲","壬癸庚","壬己癸","壬甲庚","壬甲戊","壬甲","壬甲","壬甲丙"]
							   ,["","戊丙","丙甲丁","戊庚丙","戊庚辛","甲庚","壬庚癸辛","癸庚辛","庚甲癸辛","戊丁","甲庚","甲丙","戊丙庚"]
							   ,["","丙辛","丙丁","辛丙","庚辛","辛丙甲","辛","庚辛壬癸","庚辛壬癸","丁","辛丙","辛甲壬癸","庚辛丁戊"]
							   ];
    
			　　　/* 宿命天中殺　計算　  shukumei_flag (1:生年　2:生月　3:生日)　shukumei_flag1 (4:日座　5:二中殺　6:全天中殺)　  gokan_flag 1:互換　      nichii_flag 1:日居　　*/
			    var shukumei_ar=["","生年","生月","生日","日座","二中殺","全天中殺"];
				
				var nen_tx = 0
				    nen_tx=11-cint((im_py-1)/10)*2;   //年干支から算出した宿命天中殺の支
				
				
				var shukumei_flag = 0
				var shukumei_flag1 = 0
				var nichii_flag = 0
				var gokan_flag = 0
				    if       ((im_tx==im_sy || im_tx+1==im_sy) && (im_tx==im_sm || im_tx+1==im_sm) && (im_pd==11 || im_pd==12)) {
					  shukumei_flag1=6;
					}else if  ((im_tx==im_sy || im_tx+1==im_sy) && (im_tx==im_sm || im_tx+1==im_sm)){
					  shukumei_flag1=5;
					}else if (im_tx==im_sy || im_tx+1==im_sy){
					  shukumei_flag=1;
					}else if (im_tx==im_sm || im_tx+1==im_sm){
					  shukumei_flag=2;
					}else{
					  shukumei_flag=0;}

					if (im_tx==im_sd || im_tx+1==im_sd) {shukumei_flag=3};
					if (im_pd==11 || im_pd==12)         {shukumei_flag1=4};
					if ((im_tx==im_sy || im_tx+1==im_sy) && (im_sd==nen_tx ||im_sd==nen_tx+1)) {gokan_flag=1};
					if (im_pd==41 || im_pd==42) {nichii_flag=1};
				 
				 
				//d_10shu=new Array("　　","1貫索","2石門","3鳳閣","4調舒","5祿存","6司祿","7車騎","8牽牛","9龍高","10玉堂");
                //d_12jyuen=new Array("　　","天馳 1","天極 2","天報 3","天胡 4","天庫 5","天印 6","天恍 7","天堂 8","天貴 9","天南 10","天祿 11","天将 12");
                /*　特殊な組合せ　算出　 1:傷相　2病相　3罪相　4抗相・精相　5独相　6情相　7色相　8団相　9破相　10消相　11三奇星　12七殺　*/
				var ar_12jyu=new Array(ym_jy,ym_jm,ym_jd);
				var ar_10shu=new Array(ym_sn,ym_sw,ym_sc,ym_se,ym_ss);
				var tokushu_flag = -1 ;
				var tokushu_ar=[];
				if  (ar_10shu.indexOf(3)>=0 && ar_10shu.indexOf(9)>=0 && ar_12jyu.indexOf(2)>=0) {
				        tokushu_flag++;
						tokushu_ar[tokushu_flag]="傷相"};
				if  ((ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(9)>=0 && ar_12jyu.indexOf(1)>=0) || (ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(8)>=0 && ar_12jyu.indexOf(1)>=0)) {
				        tokushu_flag++;
						tokushu_ar[tokushu_flag]="病相"}; 
				if  (ar_10shu.indexOf(2)>=0 && ar_10shu.indexOf(9)>=0 && ar_12jyu.indexOf(8)>=0) {
				        tokushu_flag++;
        				tokushu_ar[tokushu_flag]="罪相";}
				if  ((ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(7)>=0) && (ar_12jyu.indexOf(2)>=0 || ar_12jyu.indexOf(5)>=0)) {
				        tokushu_flag++;
					   　tokushu_ar[tokushu_flag]="抗相"};
				if  ((ar_10shu.indexOf(1)>=0 && ar_10shu.indexOf(1)!=ar_10shu.lastIndexOf(1)) && (ar_12jyu.indexOf(1)>=0)) {
				        tokushu_flag++;
					   　tokushu_ar[tokushu_flag]="独相"};
				if  ((ar_10shu.indexOf(5)>=0 && ar_10shu.indexOf(9)>=0 && ar_12jyu.indexOf(7)>=0) || (ar_10shu.indexOf(5)>=0 && ar_10shu.indexOf(4)>=0 && ar_12jyu.indexOf(7)>=0)) {
				        tokushu_flag++;
						tokushu_ar[tokushu_flag]="情相"}; 
				if  ((ar_10shu.indexOf(5)>=0 && ar_10shu.indexOf(9)>=0 && ar_12jyu.indexOf(7)>=0) || (ar_10shu.indexOf(3)>=0 && ar_10shu.indexOf(6)>=0 && ar_12jyu.indexOf(7)>=0)) {
				        tokushu_flag++;
						tokushu_ar[tokushu_flag]="色相"};
				if  (ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(9)>=0 && ar_10shu.indexOf(2)>=0 && ar_12jyu.indexOf(8)>=0) {
				        tokushu_flag++;
			        	tokushu_ar[tokushu_flag]="団相"};
				if  (ar_10shu.indexOf(5)>=0 && ar_10shu.indexOf(6)>=0 && ar_12jyu.indexOf(12)>=0) {
				        tokushu_flag++;
				        tokushu_ar[tokushu_flag]="破相"};
				if  (ar_10shu.indexOf(2)>=0 && ar_10shu.indexOf(6)>=0 && ar_12jyu.indexOf(7)>=0){ 
			        	tokushu_flag++;
						tokushu_ar[tokushu_flag]="消相"};
				if  ((ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(7)>=0 && ar_10shu.indexOf(9)>=0) && ar_12jyu.indexOf(8)>=0) {
				        tokushu_flag++;
				        tokushu_ar[tokushu_flag]="三奇星"};
				if  ((ar_10shu.indexOf(3)>=0 && ar_10shu.indexOf(9)>=0) || (ar_10shu.indexOf(4)>=0 && ar_10shu.indexOf(7)>=0)) {
				        tokushu_flag++;
						tokushu_ar[tokushu_flag]="七殺"};
				
				//alert("特殊フラグ"+tokushu_flag)
				//alert("特殊配列中身"+tokushu_ar)
				
				/* 干支　*/
                var nenkan = 3 ,nenshi = 9  //2016年基準年　年干＝丙(3)　年支＝申(9)		
　　　　　　　　　　　　　nenkan = ((this_year-2016)+3)%10 
                   if (nenkan==0) {nenkan=10};
                nenshi = ((this_year-2016)+9)%12
                   if (nenshi==0) {nenshi=12};				
				
				function calc_nenkan(x) {;
					var a=0;
				
					a=((x+this_year-2016)+3)%10;
					if (a==0) {a=10};
					return a;
				}
				
				function calc_nenshi(y) {
					var b=0;
				
					b=((y+this_year-2016)+9)%12;
					   if (b==0) {b=12};
					return b;
				}
				 
								  
				/* 大半会なので　半会を表示しない */
				var hankai1=0,hankai2=0,hankai3=0
				if ((daihankai==1 || daihankai==2 || daihankai==3) && calc_gousan(im_sy,im_sm)==1) {hankai1=1};
				if ((daihankai==1 || daihankai==2 || daihankai==3) && calc_gousan(im_sy,im_sd)==1) {hankai2=1};
				if ((daihankai==1 || daihankai==2 || daihankai==3) && calc_gousan(im_sm,im_sd)==1) {hankai3=1};		
　　　　　　　　　　　　　　/* 三合会局　*/
				if (sangou_flag==1) {w.document.write('<TR ALIGN="CENTER">')
				          　　　　　　　　　　　　　　       w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "合法")
				                　　　　　　　　　　　　　　 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "三合会局")};
				/* 干合　*/
                if (kangou_flag==1) {w.document.write('<TR ALIGN="CENTER">')
				          　　　　　　　　　　　　　　       w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "陰占")
				                　　　　　　　　　　　　　　 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "干合")};				
								
			
                if (sangou_flag==0 && hankai1==0 && calc_gousan(im_sy,im_sm)!=0) {w.document.write('<TR ALIGN="CENTER">')
				          　　　　　　　　　　　　　　       w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・月=")
				                　　　　　　　　　　　　　　 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', d_gousan[calc_gousan(im_sy,im_sm)])};
				if (sangou_flag==0 && hankai2==0 && calc_gousan(im_sy,im_sd)!=0) {w.document.write('<TR ALIGN="CENTER">')
				          　　　　　　　　　　　　　　       w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・日=")
				                　　　　　　　　　　　　　　 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', d_gousan[calc_gousan(im_sy,im_sd)])};	
				if (sangou_flag==0 && hankai3==0 && calc_gousan(im_sm,im_sd)!=0) {w.document.write('<TR ALIGN="CENTER">')
				          　　　　　　　　　　　　　　       w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "月・日=")
				                　　　　　　　　　　　　　　 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', d_gousan[calc_gousan(im_sm,im_sd)])};		
								
				if (daihankai==1) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・月=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "大半会")};
				if (daihankai==2) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・日=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "大半会")};
				if (daihankai==3) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "月・日=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "大半会")};
				if (richin_flag==1) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・日=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "律音")};
				if (richin_flag==2) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "月・日=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "律音")};
				if (richin_flag==3) {w.document.write('<TR ALIGN="CENTER">');
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・月=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "律音")};
				if (nachin_flag==3) {w.document.write('<TR ALIGN="CENTER">')
				                 w.document.write('<TD  align="right" style="font-size : 10px;" valign="bottom">', "年・月=");
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "納音")};
				if (shukumei_flag!=0 || shukumei_flag1!=0) {w.document.write('<TR ALIGN="CENTER">')
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "宿命天中殺")
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', shukumei_ar[shukumei_flag],"&nbsp;",shukumei_ar[shukumei_flag1])};
								 
　　　　　　　　　　　　　　if (gokan_flag==1) {w.document.write('<TR ALIGN="CENTER">')
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "")　　　　　//互換天中殺の人は必ず生年天中殺
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "互換")};　
								 
                if (shukumei_flag==0 && nichii_flag==1) {w.document.write('<TR ALIGN="CENTER">')
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "宿命天中殺")
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "日居")};	
								 
　　　　　　　　　　　　　　if (shukumei_flag!=0 && nichii_flag==1) {w.document.write('<TR ALIGN="CENTER">')
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "")      
				                 w.document.write('<TD  style="font-size : 10px;" valign="bottom">', "日居")};	
				if (eiten_flag!=0) {w.document.write('<TR ALIGN="CENTER">')
								w.document.write('<TD  style="font-size : 10px;" valign="bottom"  width="60">', "");
								w.document.write('<TD  style="font-size : 10px;" valign="bottom">',"洩天地支")};				
				
                if (tenkoku_flag!=0) {w.document.write('<TR ALIGN="CENTER">')
								w.document.write('<TD  style="font-size : 10px;" valign="bottom"  width="60">', "");
								w.document.write('<TD  style="font-size : 10px;" valign="bottom">',"天剋地冲")};				
				if (tokushu_flag!=-1) {w.document.write('<TR ALIGN="CENTER">')
								w.document.write('<TD  style="font-size : 10px;" valign="bottom"  width="60">', "特殊な結び付");
								w.document.write('<TD  style="font-size : 10px;" valign="bottom">',tokushu_ar)};
				//日干の意味（一般会員は非表示）				
                //w.document.write('<TR ALIGN="CENTER">')
                //w.document.write('<TD  style="font-size : 10px;" valign="top"  width="60">',d_10kan[im_kd],d_12shi[im_sd]);
				//w.document.write('<TD  style="font-size : 10px;" valign="bottom"  width="60">',d_nikan[im_pd]);

				
				w.document.write('</TABLE>');　　　　// 合法・散法　テーブルエンド
				w.document.write('</TD>');
				/* 五行のテーブル */
				w.document.write('<TR>')
				w.document.write('<TD valign="top">');
				w.document.write('<TABLE BORDER=1 CELLSPACING=0 cellpadding=1>' );　　　　　　//五行　テーブルスタート
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', "木");
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', "火");
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', "土");
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', "金");
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', "水");
				w.document.write('<TR>')
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', moku);
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', ka);
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', dou);
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', gon);
				w.document.write('<TD align="center" style="font-size : 12px;" width="15">', sui);
				w.document.write('</TABLE>');　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//五行　テーブルエンド　
				w.document.write('<BR>')
　　　　　　　　　　　　　
               // 守護神・才能　テキスト			
                w.document.write('調候守護神 = '.fontsize(2));
				w.document.write(shugosin_ar[im_kd-1][im_sm].fontsize(2));
				w.document.write('<BR>');
				if (z_shugoshin_flag==1){;
				   w.document.write('<BR>');
				   w.document.write('全体守護神 = '.fontsize(2));
				   w.document.write(z_shugoshin.fontsize(2));
				   w.document.write('<BR>');
				   w.document.write('忌神 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = '.fontsize(2));
				   w.document.write(imigami.fontsize(2));
				   w.document.write('<BR>');
				   };
				w.document.write('<BR>');
　　　　　　　　　　　　　 w.document.write('才能 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = '.fontsize(2)+tenunmei.fontsize(2));
                w.document.write('&nbsp;&nbsp;');				
				w.document.write(sainou.fontsize(2));
				w.document.write('<BR>');
				w.document.write('<BR>');
			//　気心体　表示(一般会員は非表示)
				
			/*	if (kst_kan[0]!=0) {;
					w.document.write('<BR><BR>');
					w.document.write('気心体 = '.fontsize(2));
                    w.document.write(d_10shu[kst_kan[0]].fontsize(2));	
				};
				
				if (kst_kan[1]!=0) {;
				    w.document.write(","+d_10shu[kst_kan[1]].fontsize(2));
				};
				if (kst_kan[2]!=0) {;
				    w.document.write(","+d_10shu[kst_kan[2]].fontsize(2));
				};
				if (kst_kan[3]!=0) {;
				    w.document.write(","+d_10shu[kst_kan[3]].fontsize(2));
				};
				if (kst_kan[4]!=0) {;
				    w.document.write(","+d_10shu[kst_kan[4]].fontsize(2));
				};
                w.document.write('<BR><BR>')
			*/	

				/* 天中殺表示 */
                y1=today.getFullYear();
                m1=today.getMonth()+1;
                d1=today.getDate();
                x1=y1*10000+m1*100+d1;
                yx=y1;
                if (m1==1 || (m1==2 && calc_setsu(y1, m1)>d1)) {
                    yx=yx-1;
                }
                ys=cmod(yx-3, 12);
                tys=im_tx-ys;
                if (tys<-1) {
                    tys=tys+12;
                }
                tys=tys+yx;
                tms=2;
                tds=calc_setsu(tys,2);
                txs=tys*10000+tms*100+tds;
                tye=tys+2;
                tme=2;
                tde=calc_setsu(tye,2)-1;
                txe=tye*10000+tme*100+tde;
            /*  if (x1>=txs && x1<=txe) {
                    w.document.write('年天中殺');
                } else {
                    w.document.write('年天中殺');
                }
                w.document.write('　'+':',' ', tys, '/', tms, '/', tds, '～');
                w.document.write(' ',tye, '/', tme, '/', tde);
				w.document.write(" ");       
            */
                yx=y1;
                mx=m1;
                if (calc_setsu(yx, mx)>d1) {
                    mx=mx-1;
                    if (mx<1) {
                        mx=mx+12;
                        yx=yx-1;
                    }
                }
                if (im_tx==1) {
                    /* 子丑天中殺 */
                    tms=12;
                    tys=yx;
                    if (mx==1) {
                        tys=tys-1;
                    }
                } else {
                    /* 子丑天中殺以外 */
                    tms=im_tx-1;
                    tys=yx;
                    if (tms-mx<-1) {
                        tys=tys+1;
                    }
                }
                tds=calc_setsu(tys, tms);
                txs=tys*10000+tms*100+tds;
                tye=tys;
                tme=tms+2;
                if (tme>12) {
                    tye=tye+1;
                    tme=tme-12;
                }
                tde=calc_setsu(tye,tme)-1;
                txe=tye*10000+tme*100+tde;
                if (x1>=txs && x1<=txe) {
                    w.document.write(' ','月天中殺'.fontsize(2));
                } else {
                    w.document.write(' ','月天中殺'.fontsize(2));
                }
                w.document.write('<BR>')
				w.document.write(tys, '/', tms, '/', tds, '～'.fontsize(1.5));
				//w.document.write('<BR>')
                w.document.write(tye, '/', tme, '/', tde,''.fontsize(1.5));

				w.document.write('</TD>');
				w.document.write('</TABLE>');　　　//陽占・五行　テーブルのテーブルエンド
				w.document.write('</TD>');
				w.document.write('</TABLE>');   //大枠１のテーブルエンド
                //w.document.write('<BR>');
							
				w.document.write('<HR>');        
				
				
				
// ここから　六親図を表示するロジック　　　　　-------------------------------------------------------------------------------------------------------------->
				
				// 六親図の　枠テーブルの定義
				w.document.write('<TD align="left">');
				w.document.write('<TABLE  BORDER=0  width="750" heigut="10" CELLSPACING=0 cellpadding=5>');
				w.document.write('<caption style="font-weight: bold;"">六　親　図</caption>')
				w.document.write('<TR ALIGN="CENTER">')				
				w.document.write('<TD width="850" height="15">', "");
				w.document.write('</TABLE>');
				w.document.write('</TD>');
		
           		w.document.write('<TABLE  BORDER=0 width="850" heigut="600"  CELLSPACING=0 cellpadding=8>');
				// 左テーブル（左余白）
				w.document.write('<TD align="left">');
				w.document.write('<TABLE  BORDER=0 CELLSPACING=0 cellpadding=5>');
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<TD width="50" height="80">', "");
				w.document.write('</TABLE>');
				w.document.write('</TD>');
			
								
				
				
				// 六親図
				// 左見出しなし
				w.document.write('<TD align="left">');
				w.document.write('<TABLE   BORDER=0 CELLSPACING=1 height="15"  cellpadding=1>');
						
			    
				//曾祖
				w.document.write('<TR ALIGN="CENTER">');
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',d_10kan2[myupline[15]],'</Th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[14]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[13]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[12]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[11]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[10]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[9]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[8]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// 2段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//祖
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[7]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[6]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[5]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[4]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[4]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[5]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[6]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[7]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// ４段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　両親
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[3]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th colspan="5" style="font-size : 18px;" width="25">',"＝＝＝＝＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[2]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[2]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[3]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// ５段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　自分、パートナー
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>')
				if(sei_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#00FFFF">',d_10kan2[myupline[1]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[1]],'</th>')
				}else{w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#CC66CC">',d_10kan2[myupline[1]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[1]],'</th>')};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				
				if (sei_flag==1){;
				// 自分＝男
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　子供
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				if (child_flag==2){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[1]],'</th>');
				}else if (child_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				}else if (child_flag==0){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				};
				
				if (sei_flag==-1){;
				// 自分＝女
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　子供
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				if (child_flag==2){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[1]],'</th>');
				}else if (child_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				}else if (child_flag==0){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				
				};
				
				};				
								
				
				w.document.write('</TABLE>');
				
				w.document.write('</TD>');   
        		
				
				
				
		/*		// 左見出しあり
				w.document.write('<TD align="left">');
				w.document.write('<TABLE   BORDER=0 CELLSPACING=1 height="15"  cellpadding=1>');
						
			    
				//曾祖
				w.document.write('<TR ALIGN="CENTER">');
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',"曾祖",'</Th>','<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',d_10kan2[myupline[15]],'</Th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[14]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[13]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[12]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[11]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[10]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[9]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[8]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// 2段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//祖
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',"祖",'</Th>','<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[7]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[6]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[5]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[4]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[4]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[5]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[6]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[7]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// ４段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　両親
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',"親",'</Th>','<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[3]],'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[myupline[2]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[2]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[3]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				// ５段目矢印
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　自分、パートナー
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>')
				if(sei_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#00FFFF">',d_10kan2[myupline[1]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[1]],'</th>')
				}else{w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#CC66CC">',d_10kan2[myupline[1]],'</th>','<th style="font-size : 18px;" width="25">',"＝",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[partner[1]],'</th>')};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				
				if (sei_flag==1){;
				// 自分＝男
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　子供
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',"子",'</Th>','<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				if (child_flag==2){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[1]],'</th>');
				}else if (child_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				}else if (child_flag==0){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				};
				
				if (sei_flag==-1){;
				// 自分＝女
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<Th style="font-size : 18px;" width="25" height="50">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"↓",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" >',"　",'</th>');
				//　子供
				w.document.write('<TR ALIGN="CENTER">')
				w.document.write('<Th style="font-size : 18px;" width="25" height="25" bgcolor="#cccccc">',"子",'</Th>','<Th style="font-size : 18px;" width="25" height="25">',"　",'</Th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size :  18px;" width="25" >',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;"width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				if (child_flag==2){;
				w.document.write('<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[1]],'</th>');
				}else if (child_flag==1){;
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>');
				}else if (child_flag==0){;
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25" bgcolor="#cccccc">',d_10kan2[child[0]],'</th>');
				};
				w.document.write('<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　", '</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>','<th style="font-size : 18px;" width="25">',"　",'</th>');
				
				};
				
				};				
								
				
				w.document.write('</TABLE>');
				
				w.document.write('</TD>');
				
		*/		
		
				
				w.document.write('</TABLE>');
                w.document.write('<BR>'); 
           
            };
        
		
        w.document.write('</BODY></HTML>');
        w.document.close();
    };
	
	            
//-->

</script>
    </div>
    <p align="center">
<script language="JavaScript1.1">
<!--
    /* テーブル作成 */
    d_10kan=new Array("癸","甲","乙","丙","丁","戊","己","庚","辛","壬","癸");
	d_10kan1=new Array("","甲","乙","丙","丁","戊","己","庚","辛","壬","癸");
	d_10kan2=new Array("","甲","乙","丙","丁","戊","己","庚","辛","壬","癸","×");
	d_10kangg=new Array("　","木","木","火","火","土","土","金","金","水","水");
    d_12shi=new Array(" ","子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥");
	d_12shigg=new Array("　","水","土","木","木","土","火","火","土","金","金","土","水");
	d_12shiggno=[0,5,3,1,1,3,2,2,3,4,4,3,5];
    d_10shu=new Array("　　","貫索","石門","鳳閣","調舒","祿存","司祿","車騎","牽牛","龍高","玉堂");
	d_10urashu=new Array("　　","貫索","石門","龍高","玉堂","車騎","牽牛","祿存","司祿","鳳閣","調舒")
    d_12jyuen=new Array("　　","天馳 1","天極 2","天報 3","天胡 4","天庫 5","天印 6","天恍 7","天堂 8","天貴 9","天南 10","天祿 11","天将 12");
	d_12jyu=new Array("　　","馳","極","報","胡","庫","印","恍","堂","貴","南","祿","将");
    d_12jyuenergy=new Array(" ","1","2","3","4","5","6","7","8","9","10","11","12");
	d_gousan=new Array(" ","半会","支合","方三位","冲","刑","破","害","支合・破","刑・冲","刑・害","刑・破","支合・刑・破");
	d_gogyo=new Array("","木","火","土","金","水");
	d_nikan=["","裏に引っ込む","自分から動かない","自立","人生のどこかで爆発的幸運","しぶとい・晩成型","耐久力","情の中の理","スケールが大か小か","気楽な人生","大器・度胸あり",
	                         "人を育てるのがうまい","感性がよい","頭の回転がいい","先祖の因縁を受ける","カッコつける","さわやか","進み上手","感性が強い","情があるが自分中心","堅実・まじめ",
							 "自己犠牲","冷静","血濁","念が強い","たくましい","他力運・動かない","変化上手","お人好し","頭の回転がいい","風流人・趣味人",
							 "人を犠牲にする","マイペース","隠れてコソコソする","人を巻き込む","血濁","度胸がいい","裏方が吉","自道・マイペース","感性が強い","一代で大成",
							 "表に出たがる","情が厚い","波乱万丈","見かけと中身が違う","究極の救い","自力運・開拓者","逃げ上手","独特の感性","知的攻撃・画策する","忍耐強い",
							 "人を育てない","自分から動く","晩成型・着実","１つの世界で頑張る","変化上手","他力運・もらい上手","はっきりしない","おとなしい自我","家柄の古さ","変化を好まない"];
							 
	d_z_shugo=[[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
	            [[0,0],["火、金","水、木"],["水","火、土"],["木、水","土、火"],["水","金、土"],["土、木","金、水"]],
	            [[0,0],["金","水、木"],["土、金","木、火"],["木、金","土、火"],["木、火","金、水"],["木","金、水"]],
				[[0,0],["火、土","木、水"],["金、水","火、土"],["木、金","土、火"],["火","金"],["土、火","水、金"]],
				[[0,0],["金","木、水"],["金、水","火、木"],["木、金","土、火"],["水、火","金、土"],["土、木、火","水、金"]],
				[[0,0],["金","木"],["金","火、土"],["木、金","火、土"],["火、水","金"],["土、木","水、金"]]];
	
	/* 裏蔵干 */
	d_10uraten=new Array(" ","癸","癸","戊","乙","乙","戊","己","丁","戊","辛","辛","甲");
	d_10uratengg=new Array("　","水","水","土","木","木","土","土","火","土","金","金","木");
	d_10urachi=new Array("　","癸","辛","丙","乙","癸","庚","己","乙","壬","辛","丁","甲");
	d_10urachigg=new Array("　","水","金","火","木","水","金","土","木","水","金","金","木");
	d_10urazou=new Array("　","癸","己","甲","乙","戊","丙","丁","己","庚","辛","戊","壬");
	d_10urazougg=new Array("　","水","土","木","木","土","火","火","土","金","金","土","水");
    /* 変数初期化 */　　
    b_nengo="西暦";
    b_y_bias=0;
    today=new Date();
//-->
</script>
                                </p>
                                <form method="post">
								
                                  <div>
									   
											<input type="radio" name="radio" value="男" required>男
											<input type="radio" name="radio" value="女" required>女

											<!--<select onchange="chg_nengo(this)" name="nengo">-->
           <!--                                   <option selected="selected" value="西暦">西暦</option>                                      -->
           <!--                                 </select>-->
									
								西暦<select name="y_inp">
										<option value="1873">1873（明治６）</option>
										<option value="1874">1874（明治７）</option>
										<option value="1875">1875（明治８）</option>
										<option value="1876">1876（明治９）</option>
										<option value="1877">1877（明治１０）</option>
										<option value="1878">1878（明治１１）</option>
										<option value="1879">1879（明治１２）</option>
										<option value="1880">1880（明治１３）</option>
										<option value="1881">1881（明治１４）</option>
										<option value="1882">1882（明治１５）</option>
										<option value="1883">1883（明治１６）</option>
										<option value="1884">1884（明治１７）</option>
										<option value="1885">1885（明治１８）</option>
										<option value="1886">1886（明治１９）</option>
										<option value="1887">1887（明治２０）</option>
										<option value="1888">1888（明治２１）</option>
										<option value="1889">1889（明治２２）</option>
										<option value="1890">1890（明治２３）</option>
										<option value="1891">1891（明治２４）</option>
										<option value="1892">1892（明治２５）</option>
										<option value="1893">1893（明治２６）</option>
										<option value="1894">1894（明治２７）</option>
										<option value="1895">1895（明治２８）</option>
										<option value="1896">1896（明治２９）</option>
										<option value="1897">1897（明治３０）</option>
										<option value="1898">1898（明治３１）</option>
										<option value="1899">1899（明治３２）</option>
										<option value="1900">1900（明治３３）</option>
										<option value="1901">1901（明治３４）</option>
										<option value="1902">1902（明治３５）</option>
										<option value="1903">1903（明治３６）</option>
										<option value="1904">1904（明治３７）</option>
										<option value="1905">1905（明治３８）</option>
										<option value="1906">1906（明治３９）</option>
										<option value="1907">1907（明治４０）</option>
										<option value="1908">1908（明治４１）</option>
										<option value="1909">1909（明治４２）</option>
										<option value="1910">1910（明治４３）</option>
										<option value="1911">1911（明治４４）</option>
										<option value="1912">1912（大正１）</option>
										<option value="1913">1913（大正２）</option>
										<option value="1914">1914（大正３）</option>
										<option value="1915">1915（大正４）</option>
										<option value="1916">1916（大正５）</option>
										<option value="1917">1917（大正６）</option>
										<option value="1918">1918（大正７）</option>
										<option value="1919">1919（大正８）</option>
										<option value="1920">1920（大正９）</option>
										<option value="1921">1921（大正１０）</option>
										<option value="1922">1922（大正１１）</option>
										<option value="1923">1923（大正１２）</option>
										<option value="1924">1924（大正１３）</option>
										<option value="1925">1925（大正１４）</option>
										<option value="1926">1926（昭和１）</option>
										<option value="1927">1927（昭和２）</option>
										<option value="1928">1928（昭和３）</option>
										<option value="1929">1929（昭和４）</option>
										<option value="1930">1930（昭和５）</option>
										<option value="1931">1931（昭和６）</option>
										<option value="1932">1932（昭和７）</option>
										<option value="1933">1933（昭和８）</option>
										<option value="1934">1934（昭和９）</option>
										<option value="1935">1935（昭和１０）</option>
										<option value="1936">1936（昭和１１）</option>
										<option value="1937">1937（昭和１２）</option>
										<option value="1938">1938（昭和１３）</option>
										<option value="1939">1939（昭和１４）</option>
										<option value="1940">1940（昭和１５）</option>
										<option value="1941">1941（昭和１６）</option>
										<option value="1942">1942（昭和１７）</option>
										<option value="1943">1943（昭和１８）</option>
										<option value="1944">1944（昭和１９）</option>
										<option value="1945">1945（昭和２０）</option>
										<option value="1946">1946（昭和２１）</option>
										<option value="1947">1947（昭和２２）</option>
										<option value="1948">1948（昭和２３）</option>
										<option value="1949">1949（昭和２４）</option>
										<option value="1950">1950（昭和２５）</option>
										<option value="1951">1951（昭和２６）</option>
										<option value="1952">1952（昭和２７）</option>
										<option value="1953">1953（昭和２８）</option>
										<option value="1954">1954（昭和２９）</option>
										<option value="1955">1955（昭和３０）</option>
										<option value="1956">1956（昭和３１）</option>
										<option value="1957">1957（昭和３２）</option>
										<option value="1958">1958（昭和３３）</option>
										<option value="1959">1959（昭和３４）</option>
										<option value="1960">1960（昭和３５）</option>
										<option value="1961">1961（昭和３６）</option>
										<option value="1962">1962（昭和３７）</option>
										<option value="1963">1963（昭和３８）</option>
										<option value="1964">1964（昭和３９）</option>
										<option value="1965">1965（昭和４０）</option>
										<option value="1966">1966（昭和４１）</option>
										<option value="1967">1967（昭和４２）</option>
										<option value="1968">1968（昭和４３）</option>
										<option value="1969">1969（昭和４４）</option>
										<option value="1970">1970（昭和４５）</option>
										<option value="1971">1971（昭和４６）</option>
										<option value="1972">1972（昭和４７）</option>
										<option value="1973">1973（昭和４８）</option>
										<option value="1974">1974（昭和４９）</option>
										<option value="1975">1975（昭和５０）</option>
										<option value="1976">1976（昭和５１）</option>
										<option value="1977">1977（昭和５２）</option>
										<option value="1978">1978（昭和５３）</option>
										<option value="1979">1979（昭和５４）</option>
										<option value="1980">1980（昭和５５）</option>
										<option value="1981">1981（昭和５６）</option>
										<option value="1982">1982（昭和５７）</option>
										<option value="1983">1983（昭和５８）</option>
										<option value="1984">1984（昭和５９）</option>
										<option value="1985">1985（昭和６０）</option>
										<option value="1986">1986（昭和６１）</option>
										<option value="1987">1987（昭和６２）</option>
										<option value="1988">1988（昭和６３）</option>
										<option selected="selected" value="1989">1989（平成１）</option>
										<option value="1990">1990（平成２）</option>
										<option value="1991">1991（平成３）</option>
										<option value="1992">1992（平成４）</option>
										<option value="1993">1993（平成５）</option>
										<option value="1994">1994（平成６）</option>
										<option value="1995">1995（平成７）</option>
										<option value="1996">1996（平成８）</option>
										<option value="1997">1997（平成９）</option>
										<option value="1998">1998（平成１０）</option>
										<option value="1999">1999（平成１１）</option>
										<option value="2000">2000（平成１２）</option>
										<option value="2001">2001（平成１３）</option>
										<option value="2002">2002（平成１４）</option>
										<option value="2003">2003（平成１５）</option>
										<option value="2004">2004（平成１６）</option>
										<option value="2005">2005（平成１７）</option>
										<option value="2006">2006（平成１８）</option>
										<option value="2007">2007（平成１９）</option>
										<option value="2008">2008（平成２０）</option>
										<option value="2009">2009（平成２１）</option>
										<option value="2010">2010（平成２２）</option>
										<option value="2011">2011（平成２３）</option>
										<option value="2012">2012（平成２４）</option>
										<option value="2013">2013（平成２５）</option>
										<option value="2014">2014（平成２６）</option>
										<option value="2015">2015（平成２７）</option>
										<option value="2016">2016（平成２８）</option>
										<option value="2017">2017（平成２９）</option>
										<option value="2018">2018（平成３０）</option>
										<option value="2019">2019（平成３１）</option>
										<option value="2020">2020（平成３２）</option>
										<option value="2021">2021（平成３３）</option>
										<option value="2022">2022（平成３４）</option>
										<option value="2023">2023（平成３５）</option>
										<option value="2024">2024（平成３６）</option>
										<option value="2025">2025（平成３７）</option>
										<option value="2026">2026（平成３８）</option>
										<option value="2027">2027（平成３９）</option>
										<option value="2028">2028（平成４０）</option>
										<option value="2029">2029（平成４１）</option>
										<option value="2030">2030（平成４２）</option>
										<option value="2031">2031（平成３３）</option>
										<option value="2032">2032（平成３４）</option>
										<option value="2033">2033（平成３５）</option>
										<option value="2034">2034（平成３６）</option>
										<option value="2035">2035（平成３７）</option>
										<option value="2036">2036（平成３８）</option>
										<option value="2037">2037（平成３９）</option>
										<option value="2038">2038（平成４０）</option>
										<option value="2039">2039（平成４１）</option>
										<option value="2040">2040（平成４２）</option>										
									</select>年
									
									<select name="m_inp">
										<option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10</option>
										<option value="11">11</option>
										<option value="12">12</option>
									</select>月
									
									<select name="d_inp">
										<option value="1">1</option>
										<option value="2">2</option>
										<option value="3">3</option>
										<option value="4">4</option>
										<option value="5">5</option>
										<option value="6">6</option>
										<option value="7">7</option>
										<option value="8">8</option>
										<option value="9">9</option>
										<option value="10">10</option>
										<option value="11">11</option>
										<option value="12">12</option>
										<option value="13">13</option>
										<option value="14">14</option>
										<option value="15">15</option>
										<option value="16">16</option>
										<option value="17">17</option>
										<option value="18">18</option>
										<option value="19">19</option>
										<option value="20">20</option>
										<option value="21">21</option>
										<option value="22">22</option>
										<option value="23">23</option>
										<option value="24">24</option>
										<option value="25">25</option>
										<option value="26">26</option>
										<option value="27">27</option>
										<option value="28">28</option>
										<option value="29">29</option>
										<option value="30">30</option>
										<option value="31">31</option>
									</select>日
									
                                    <input onclick="calc(this.form)" value="計算する" type="button" class="btn btn-info">
									 </div>
                                </form></td>
                            </tr>
                            </tbody></table>
</div>